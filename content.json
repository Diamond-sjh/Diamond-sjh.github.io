{"meta":{"title":"Diamond","subtitle":"æˆ‘èµ°çš„å¾ˆæ…¢,ä½†æ˜¯æˆ‘ä»æ¥ä¸ä¼šåé€€","description":null,"author":"Mr.sun","url":"http://diamond-sjh.github.io","root":"/"},"pages":[{"title":"search","text":"","path":"search/index.html","date":"09-29","excerpt":""},{"title":"404","text":"","path":"404/index.html","date":"09-29","excerpt":""}],"posts":[{"title":"Vue Router","text":"è·¯ç”±routerä»€ä¹ˆæ˜¯è·¯ç”±ç»„ä»¶åˆ‡æ¢æ˜¯é€šè¿‡å˜æ¢urlåœ°å€çš„é”šç‚¹ä¿¡æ¯è€Œæ˜¾ç¤ºä¸åŒçš„ç»„ä»¶ï¼Œè·¯ç”±ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œä¹Ÿæ˜¯ æµè§ˆå™¨åœ°å€ä¿¡æ¯ ä¸ ç»„ä»¶ çš„æ˜ å°„å…³ç³»ä½“ç°ï¼Œä½†è·¯ç”±æ˜¯ç»„ä»¶åˆ‡æ¢SPAçš„å°è£…ç‰ˆæœ¬ï¼Œä½¿ç”¨èµ·æ¥è¦æ›´åŠ æ–¹ä¾¿ã€é«˜æ•ˆ å®˜ç½‘å‚è€ƒ ä¸Šå›¾ æµè§ˆå™¨é”šç‚¹å‘ç”Ÿå˜åŒ–ï¼Œä¼šè¢«onhashchangeæ„ŸçŸ¥ ç„¶åwindow.location.hashè·å¾—å˜æ¢åçš„é”šç‚¹ä¿¡æ¯ é€šè¿‡é”šç‚¹è·å¾—ç”¨äºæ˜¾ç¤ºç»„ä»¶çš„æ ‡ç­¾åç§° æ ‡ç­¾åç§°èµ‹äºˆç»™componentæ ‡ç­¾çš„iså±æ€§ ç»„ä»¶å°±å‘ˆç° ä»¥ä¸Šé”šç‚¹æ‰¾åˆ°å¯¹åº”ç»„ä»¶çš„è¿‡ç¨‹å°±æ˜¯è·¯ç”± è·¯ç”±å¯¹ componentæ ‡ç­¾ã€onhashchangeã€window.location.hashã€ç­‰åŸå§‹å†…å®¹åšäº†å°è£…ï¼Œæ˜¯æ›´é«˜çº§ç»„ä»¶åˆ‡æ¢çš„ä½“ç° åœ¨ vue ä¸­ä½¿ç”¨ vue-routerå®‰è£…è·¯ç”±vue-routerè·¯ç”±æ˜¯ä¸€ä¸ªjsåŠŸèƒ½æ¨¡å—ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™éœ€è¦å…ˆå®‰è£… è¿è¡ŒæŒ‡ä»¤ 1yarn add vue-router åº”ç”¨è·¯ç”± åœ¨å…¥å£æ–‡ä»¶å¤„å¯¼å…¥è·¯ç”±æ¨¡å—(index.js) 1import VueRouter from 'vue-router' æ³¨å†Œè·¯ç”±æ¨¡å—(index.js) æŠŠå¯¼å…¥çš„è·¯ç”±æ¨¡å—æ³¨å†Œç»™Vue Vue.use(xxx)å°±æ˜¯è¦æŠŠæŸä¸ªåŠŸèƒ½æ¨¡å—æ³¨å†Œç»™Vueï¼Œ è¯¥æ“ä½œç±»ä¼¼é€šè¿‡Vue.component()æ–¹å¼ç»™Vueæ³¨å†Œç»„ä»¶ï¼Œ æ³¨å†Œå¤šä¸ªç»„ä»¶éœ€è¦å¤šæ¬¡æ‰§è¡ŒVue.component()ï¼Œè€ŒVue.use()å¯ä»¥ä¸€æ¬¡æ€§æ³¨å†Œå…¨éƒ¨çš„ç»„ä»¶ï¼Œä½¿ç”¨æ›´ç»™åŠ›ï¼Œå…¶æœ¬èº«ä¹Ÿæœ‰å…¶ä»–åŠŸèƒ½ï¼Œåç»­ä¼šä»‹ç»ã€‚ 1Vue.use(VueRouter) å¯¼å…¥è¦æ˜¾ç¤ºç»„ä»¶(index.js) æŠŠè¦æ˜¾ç¤ºçš„å­çº§ç»„ä»¶å¯¼å…¥è¿›æ¥ 123import Home from './home.vue';import About from './about.vue';import Movie from './movie.vue'; äº‹å…ˆæŠŠå¯¹åº”çš„ home.vueã€about.vueã€movie.vueå­ç»„ä»¶å’Œå†…å®¹åˆ›å»ºå¥½ åˆ›å»ºè·¯ç”±å¯¹è±¡(index.js)åˆ›å»ºè·¯ç”±å¯¹è±¡ï¼Œå¹¶æŠŠhashå’Œç»„ä»¶çš„å¯¹åº”å…³ç³»è®¾ç½®å¥½ 12345678const router = new VueRouter(&#123; // é…ç½®å¯¹è±¡ä¸­ï¼Œè¦æä¾› hash åœ°å€ åˆ° ç»„ä»¶ä¹‹é—´çš„ å¯¹åº”å…³ç³» routes: [ // è¿™ä¸ª routes å°±æ˜¯ è·¯ç”± è§„åˆ™ çš„æ•°ç»„ï¼Œé‡Œé¢è¦æ”¾å¾ˆå¤šçš„å¯¹åº”å…³ç³» // &#123; path: 'hashåœ°å€', component: ç»„ä»¶å¯¹è±¡ &#125; &#123; path: '/home', component: Home &#125;, &#123; path: '/user', component: Movie &#125;, &#123; path: '/about', component: About &#125; ]&#125;) æŒ‚è½½è·¯ç”±(index.js)æŠŠåˆ›å»ºå¥½çš„ router å¯¹è±¡ï¼ŒæŒ‚è½½åˆ° ä¸»vm å¯¹è±¡ä¸Š 12345const vm = new Vue(&#123; el: '#app', render: c =&gt; c(App), router // æŠŠ åˆ›å»ºçš„è·¯ç”±å¯¹è±¡æŒ‚è½½åˆ° VM å®ä¾‹ä¸Šï¼Œä¸ router:router æ•ˆæœä¸€è‡´&#125;) åˆ›å»ºè·¯ç”±é“¾æ¥(App.vue) åœ¨ä¸»vueç»„ä»¶ä¸­ï¼Œé€šè¿‡router-linkæ–¹å¼åº”ç”¨è¶…é“¾æ¥ router-linkæ ‡ç­¾ï¼šç”¨ä»¥åˆ›å»º è·¯ç”±çš„ hashé”šç‚¹ è¶…é“¾æ¥ to å±æ€§ï¼Œè¡¨ç¤º ç‚¹å‡»æ­¤é“¾æ¥ï¼Œè¦è·³è½¬åˆ°å“ªä¸ª hashé”šç‚¹ è¯·æ±‚åœ°å€ 123&lt;router-link to=\"/home\"&gt; é¦–é¡µ &lt;/router-link&gt;&lt;router-link to=\"/user\"&gt; ä¼šå‘˜ &lt;/router-link&gt;&lt;router-link to=\"/movie\"&gt; ç”µå½± &lt;/router-link&gt; to å±æ€§ä¸­ï¼Œä¸éœ€è¦ä»¥ # å¼€å¤´ router-linkç¼–è¯‘åä¼šå˜æˆå…·ä½“çš„htmlæ ‡ç­¾æ•ˆæœï¼š è®¾ç½®å®¹å™¨(App.vue) åœ¨App.vueæ ¹ç»„ä»¶ä¸­é€šè¿‡router-viewæ ‡ç­¾è®¾ç½®æ˜¾ç¤ºç»„ä»¶çš„å®¹å™¨ 1&lt;router-view&gt; &lt;/router-view&gt; router-viewçš„ä½œç”¨ç±»ä¼¼äºcomponentæ ‡ç­¾ï¼Œè®¾å®šå ä½ç¬¦ï¼Œç”¨ä»¥æ˜¾ç¤ºå„ä¸ªä¸šåŠ¡å­ç»„ä»¶ è·¯ç”±è§„åˆ™çš„åŒ¹é…è¿‡ç¨‹ï¼š ç”¨æˆ·ç‚¹å‡» é¡µé¢çš„ è·¯ç”±é“¾æ¥router-linkï¼Œç‚¹å‡»çš„ä¸€ç¬é—´ï¼Œå°±ä¼šä¿®æ”¹ æµè§ˆå™¨ åœ°å€æ  ä¸­çš„ Hash é”šç‚¹åœ°å€ä¿¡æ¯ï¼Œ å½“ hash ä¿¡æ¯è¢«ä¿®æ”¹ä»¥åï¼Œä¼šç«‹å³è¢« è·¯ç”± ç›‘å¬åˆ° (è·¯ç”±æœ‰å°è£…onhashchangeäº‹ä»¶) åœ¨onhashchangeäº‹ä»¶é‡Œè¾¹æ„ŸçŸ¥å˜åŒ–åçš„hashé”šç‚¹ä¿¡æ¯(window.location.hash)ï¼Œç„¶åä¸å¯¹åº”çš„ç»„ä»¶è¿›è¡Œè”ç³» ç»„ä»¶è¢«æ˜¾ç¤ºï¼Œå…·ä½“æ˜¯é€šè¿‡è·¯ç”±å ä½ç¬¦rouer-viewè¿›è¡Œæ˜¾ç¤º redirecté‡å®šå‘ç”¨æˆ·ç¬¬ä¸€æ¬¡è®¿é—®ç½‘ç«™é¡µé¢(â€œ/æ ¹ç›®å½•â€é¦–é¡µ)æ—¶ï¼Œåœ°å€æ é‡Œè¾¹æ²¡æœ‰â€œhashé”šç‚¹â€çš„ä¿¡æ¯ï¼Œä¹Ÿå°±æ²¡æœ‰å¯¹åº”çš„ç»„ä»¶ç”¨äºæ˜¾ç¤ºï¼Œæ˜æ˜¾é¡¹ç›®ä½“éªŒä¸å¥½ï¼Œç°åœ¨å¯ä»¥é€šè¿‡redirectå®ç°é‡å®šå‘æ•ˆæœå³ è®¾å®šâ€œ/æ ¹ç›®å½•â€ä¸ä¸€ä¸ªå…·ä½“è·¯ç”±è”ç³»èµ·æ¥ï¼Œè¿™æ ·å³ä½¿æµè§ˆå™¨åœ°å€æ æ²¡æœ‰ä»»ä½•é”šç‚¹ä¿¡æ¯ï¼Œä¹Ÿæœ‰é»˜è®¤çš„ç»„ä»¶è¿›è¡Œæ˜¾ç¤º ä½¿ç”¨ç¤ºä¾‹ï¼š 123456const router = new VueRouter(&#123; routes:[ &#123;path:'/', redirect: '/mv'&#125;, &#123;path:'/mv', component: Movie&#125;, ]&#125;) å½“è®¿é—®â€/æ ¹ç›®å½•â€æ—¶ï¼Œå°±é‡å®šå‘åˆ°â€/mvé”šç‚¹â€ï¼Œè¿›è€Œæ˜¾ç¤ºMovieç»„ä»¶ è·¯ç”±æŒ‰é’®é«˜äº®å®˜ç½‘å‚è€ƒ åœ¨App.vueä¸»é¡µé¢ä¸­(router-linkè¶…é“¾æ ‡ç­¾ä½¿ç”¨é¡µé¢)é€šè¿‡router-link-activeé€‰æ‹©å™¨è®¾ç½®å¦‚ä¸‹æ ·å¼ï¼š 123&lt;style lang=\"less\" scoped&gt;.router-link-active &#123;background-color: lightgreen;&#125;&lt;/style&gt; å½“å‰è¶…é“¾æŒ‰é’®è¢«å•å‡»é€‰ä¸­ä¼šæœ‰æµ…ç»¿èƒŒæ™¯é¢œè‰²é«˜äº®æ˜¾ç¤º è¢«ç‚¹å‡»æ¿€æ´»çš„æŒ‰é’®ï¼Œæœ¬èº«æœ‰classå±æ€§å€¼ï¼Œç›´æ¥è¿›è¡Œcssæ ·å¼è®¾å®šå³å¯ï¼š åµŒå¥—è·¯ç”±ï¼ˆå­è·¯ç”±ï¼‰è·¯ç”±çš„åº”ç”¨æ˜¯åœ¨App.vueæ ¹ç»„ä»¶ä¸­é€šè¿‡å•å‡»è¶…é“¾æŒ‰é’®åˆ‡æ¢æ˜¾ç¤ºä¸åŒå­ç»„ä»¶ï¼Œå…·ä½“è¡¨ç°å°±æ˜¯çˆ¶ã€å­ç»„ä»¶åµŒå¥—å…³ç³» æœ‰çš„åº”ç”¨æ¯”è¾ƒå¤æ‚ï¼Œå­ç»„ä»¶å†…éƒ¨è¿˜æœ‰å­ç»„ä»¶ï¼Œå½¢æˆäº† 1çº§App.vueç»„ä»¶â€“&gt;2çº§ä¸šåŠ¡ç»„ä»¶â€“&gt;3çº§ä¸šåŠ¡ç»„ä»¶ çš„æ•ˆæœï¼Œç°åœ¨å­¦ä¹ å¦‚ä½•åœ¨ 2çº§ç»„ä»¶ ä¸­åˆ‡æ¢æ˜¾ç¤º 3çº§ç»„ä»¶ ä½¿ç”¨æ­¥éª¤ï¼š åœ¨2çº§ç»„ä»¶ä¸­è®¾ç½® åˆ‡æ¢æ ‡ç­¾ å’Œ æ˜¾ç¤ºçš„ç»„ä»¶å®¹å™¨ 1234&lt;router-link to='/music/hongkong'&gt;é¦™æ¸¯&lt;/router-link&gt;&lt;router-link to='/music/taiwan'&gt;å°æ¹¾&lt;/router-link&gt;&lt;router-view&gt;&lt;/router-view&gt; router-linkï¼šè®¾ç½®è¶…é“¾æŒ‰é’® router-viewï¼šç¬¬3çº§ç»„ä»¶æ˜¾ç¤ºçš„å®¹å™¨ åœ¨å¯¹åº”çš„è·¯ç”±è§„åˆ™ä¸­ï¼Œé€šè¿‡ children å±æ€§ï¼Œå®šä¹‰å­è·¯ç”±è§„åˆ™ï¼š 12345678910111213141516var router = new VueRouter(&#123; routes: [ &#123; path: '/', redirect: '/user' &#125;, &#123; path: '/home', component: Home &#125;, &#123; path: '/user', component: User &#125;, &#123; path: '/movie', component: Movie, children: [ &#123; path: '/movie/hongkong', component: Hongkong &#125;, &#123; path: '/movie/taiwan', component: Taiwan &#125;, &#123; path: '/movie/dalu', component: Dalu &#125; ] &#125; ]&#125;) é‡å®šå‘ å¦‚æœéœ€è¦redirecté‡å®šå‘æ•ˆæœå¯ä»¥åƒå¦‚ä¸‹ä¸¤ç§æ–¹å¼è®¾ç½®ï¼Œä»»é€‰ä¸€ä¸ªå³å¯ï¼š 123456789101112131415161718var router = new VueRouter(&#123; routes: [ &#123; path: '/', redirect: '/user' &#125;, &#123; path: '/home', component: Home &#125;, &#123; path: '/user', component: User &#125;, &#123; path: '/movie', component: Movie, redirect: '/movie/hongkong', // 1) æ–¹å¼é‡å®šå‘ children: [ &#123; path: '', redirect:'/movie/hongkong' &#125;, // 2) æ–¹å¼é‡å®šå‘ &#123; path: '/movie/hongkong', component: Hongkong &#125;, &#123; path: '/movie/taiwan', component: Taiwan &#125;, &#123; path: '/movie/dalu', component: Dalu &#125; ] &#125; ]&#125;) é‡å®šå‘æ³¨æ„ï¼š æ–¹å¼1 è®¾ç½®redirectæˆå‘˜çš„åŒæ—¶ä¹Ÿéœ€è¦componentæˆå‘˜ è·¯ç”±ä¼ å‚ä½¿ç”¨æ­¥éª¤ï¼š åœ¨è·¯ç”±ä¸­è®¾å®šå‚æ•° 1234567891011const router = new VueRouter(&#123; routes:[ &#123; path: '/music, component: Music, children: [ &#123;path:'/dt/:mid', component: Detail, props:true&#125; ] &#125; ]&#125;) :mid è¡¨ç¤ºå½“å‰è·¯ç”±æœ‰ä¸€ä¸ªå‚æ•°ï¼Œåç§°ä¸ºmid, :å†’å· æ˜¯å¿…é¡»çš„(éœ€è¦æ—¶å¯ä»¥é€šè¿‡ç›¸åŒçš„æ–¹å¼å£°æ˜å¤šä¸ªå‚æ•°)props:true è¡¨ç¤ºå½“å‰è·¯ç”±æœ‰å‚æ•°éœ€è¦ä¼ é€’ åœ¨router-linkè¶…é“¾åœ°æ–¹æŠŠéœ€è¦çš„å‚æ•°è®¾ç½®å¥½ 1&lt;router-link :to=\"/dt/1001\"&gt;XXX&lt;/router-link&gt; é€šè¿‡toå±æ€§å¯¹â€œå‚æ•°â€ä¸€å¹¶è¿›è¡Œè®¾ç½® router-linké»˜è®¤ç”Ÿæˆaæ ‡ç­¾ï¼Œå¦‚æœæƒ³ç”Ÿæˆå…¶ä»–æ ‡ç­¾ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼å®ç° 1&lt;router-link tag=\"li\" :to=\"/dt/1001\"&gt;XXX&lt;/router-link&gt; tag=â€liâ€ è¡¨ç¤ºç”Ÿæˆliæ ‡ç­¾ï¼Œå¹¶ä¸”è¶…é“¾æ•ˆæœä»ç„¶æœ‰æ•ˆï¼Œå¯ä»¥å‚è€ƒ å‚æ•°çš„æ¥æ”¶å’Œä½¿ç”¨ 1234567&lt;p&gt;ç”µå½±è¯¦æƒ…å±•ç¤º---&#123;&#123; mid &#125;&#125;&lt;/p&gt;&lt;script&gt;export default &#123; // é€šè¿‡propsæ¥æ”¶çš„è·¯ç”±å‚æ•°ä¿¡æ¯ï¼Œåç§°ä¸ºmid props:['mid']&#125;&lt;/script&gt; è¦é€šè¿‡propså¯¹è·¯ç”±å‚æ•°è¿›è¡Œæ¥æ”¶ propså¯¹ä¸¤ç§æ•°æ®éƒ½å¯ä»¥æ¥æ”¶ï¼š 1) è·¯ç”±å‚æ•° 2) çˆ¶ç»„ä»¶ç»™ä¼ é€’è¿‡æ¥çš„æ•°æ® ç¼–ç¨‹å¼å¯¼èˆªå¯¼èˆªï¼šä¸€ä¸ªè·¯ç”±åˆ‡æ¢åˆ°å¦å¤–ä¸€ä¸ªè·¯ç”±å»(/mv /dt/102) ä»€ä¹ˆæ˜¯router-linkæ˜¯é€šè¿‡é™æ€è¶…é“¾æ¥æŒ‰é’®çš„æ–¹å¼æŠŠå„ä¸ªç”¨äºæ˜¾ç¤ºçš„ç»„ä»¶ç»™å£°æ˜å¥½ï¼Œå•å‡»å“ªä¸ªæŒ‰é’®å°±æ˜¾ç¤ºå“ªä¸ªç»„ä»¶ï¼Œå…¶è¢«ç§°ä¸ºå£°æ˜å¼å¯¼èˆª æœ‰æ—¶å¹¶ä¸èƒ½é€šè¿‡å•å‡»è¶…é“¾æŒ‰é’®æ¥æ˜¾ç¤ºä¸€ä¸ªç»„ä»¶ï¼Œä¾‹å¦‚åˆ¤æ–­ç”¨æˆ·æ˜¯ç™»å½•çŠ¶æ€å°±æ˜¾ç¤ºä¸šåŠ¡ç»„ä»¶é¡µé¢ï¼Œå¦åˆ™æ˜¾ç¤ºç™»å½•ç»„ä»¶é¡µé¢ï¼Œè¿™æ—¶éœ€è¦é€šè¿‡ç¨‹åºä»£ç å®ç°ç»„ä»¶çš„åˆ¤æ–­æ˜¾ç¤ºï¼Œé€šè¿‡ç¼–å†™ç¨‹åºä»£ç çš„æ–¹å¼å®ç°ç»„ä»¶æ˜¾ç¤ºå°±ç§°ä¸ºç¼–ç¨‹å¼å¯¼èˆª ä½¿ç”¨è¯­æ³•1234this.$router.push(è·¯ç”±åœ°å€) // æ ¹æ®è·¯ç”±ä¿¡æ¯æ˜¾ç¤ºç»„ä»¶,å¯ä»¥æ˜¯router-linkæ ‡ç­¾çš„toå±æ€§å€¼this.$router.go(n) // nå¯ä»¥æ˜¯ è´Ÿæ•°ã€0ã€æ­£æ•°ï¼Œè¡¨ç¤ºé¡µé¢è¦ å›é€€ã€åˆ·æ–°ã€å‰è¿› this.$router.forward() // å‰è¿›this.$router.back() // åé€€ çµæ„Ÿæ¥è‡ªbomæµè§ˆå™¨å¯¹è±¡æ¨¡å‹ window.history.go() window.history.back() window.history.forward() å®˜ç½‘å‚è€ƒ è·¯ç”±å®ˆå«è·¯ç”±å¯¹è±¡æœ‰ä¸€ä¸ªåç§°ä¸ºbeforeEachçš„æ–¹æ³•ï¼Œæ¯ä¸ªè·¯ç”±åœ¨åŠ è½½ç»„ä»¶ä¹‹å‰éƒ½è¦è°ƒç”¨å®ƒï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­å¯ä»¥åšé€»è¾‘åˆ¤æ–­ï¼Œé™åˆ¶è¦åšä»€ä¹ˆæˆ–ä¸åšä»€ä¹ˆï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºè·¯ç”±å®ˆå«ï¼Œæœ‰ç€ä¸€å¤«å½“å…³ä¸‡å¤«è«å¼€çš„æ•ˆæœ â€‹ è¯­æ³•1router.beforeEach((to, from, next) =&gt; &#123; /* å¯¼èˆªå®ˆå« å¤„ç†é€»è¾‘ */ &#125;) è¿™é‡Œçš„ router å°±æ˜¯ new VueRouter å¾—åˆ°çš„ è·¯ç”±å¯¹è±¡ beforeEach()æ˜¯è·¯ç”±åœ¨æ˜¾ç¤ºç»„ä»¶ä¹‹å‰è¦æ‰§è¡Œçš„ä»£ç  å‚æ•°1 to:æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¿å­˜ç€å°†è¦è®¿é—®è·¯ç”±ç›¸å…³çš„å‚æ•° from:æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¿å­˜ç€ç¦»å¼€çš„é‚£ä¸ªé¡µé¢çš„ç›¸å…³è·¯ç”±å‚æ•° next:æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯¹åç»­çš„æ‰§è¡Œèµ·ç€ æ‹¦æˆª æˆ– æ”¾è¡Œ çš„ä½œç”¨ å¦‚æœæ²¡æœ‰é—®é¢˜è¯·ä¸€å®šæ‰§è¡Œnext()æ–¹æ³•ï¼Œä»¥è¿›è¡Œåç»­æ“ä½œï¼Œ next()æ–¹æ³•ä¹Ÿå¯ä»¥é€šè¿‡ä¼ é€’è·¯ç”±ä¿¡æ¯å®ç°å…¶ä»–ç»„ä»¶çš„æ˜¾ç¤º ä¾‹å¦‚ï¼šnext(â€˜/loginâ€™) æ˜¾ç¤ºç™»å½•ç»„ä»¶","path":"2018/12/15/Vue-Router/","date":"12-15","excerpt":"","tags":[{"name":"vue","slug":"vue","permalink":"http://diamond-sjh.github.io/tags/vue/"}]},{"title":"vueç”Ÿå‘½å‘¨æœŸ","text":"vueç”Ÿå‘½å‘¨æœŸä»€ä¹ˆæ˜¯ç”Ÿå‘½å‘¨æœŸ å®šä¹‰ï¼šç”Ÿå‘½å‘¨æœŸæ˜¯æŒ‡vueå®ä¾‹(æˆ–è€…ç»„ä»¶)ä»è¯ç”Ÿåˆ°æ¶ˆäº¡æ‰€ç»å†çš„å„ä¸ªé˜¶æ®µçš„æ€»å’Œ ç”Ÿå‘½å‘¨æœŸï¼š vueåœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œåˆ†ä¸ºå¤šä¸ªé˜¶æ®µï¼Œå…·ä½“æœ‰åˆ›å»ºã€è¿è¡Œã€é”€æ¯ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡æˆå‘˜æ–¹æ³•æ„ŸçŸ¥åˆ° åˆ›å»ºé˜¶æ®µç”±ç©ºç™½æœŸã€dataåˆå§‹åŒ–ã€methodsåˆå§‹åŒ–ã€æ¨¡æ¿æ¸²æŸ“ç­‰ç»„æˆ è¿è¡Œé˜¶æ®µåˆ†ä¸º æ›´æ–°å‰ å’Œ æ›´æ–°å ä¸¤éƒ¨åˆ† é”€æ¯é˜¶æ®µåˆ†ä¸º é”€æ¯å‰ å’Œ é”€æ¯å ä¸åŒé˜¶æ®µå®Œæˆä¸åŒçš„ä»»åŠ¡ï¼Œå¼€å‘è€…å¯ä»¥åˆ©ç”¨å„ä¸ªé˜¶æ®µçš„ç‰¹ç‚¹å®Œæˆä¸šåŠ¡éœ€è¦çš„ç›¸å…³åŠŸèƒ½ beforeCreateï¼šå¯ä»¥åœ¨è¿™åŠ ä¸ªloadingäº‹ä»¶ï¼Œåœ¨åŠ è½½å®ä¾‹çš„æ—¶å€™è§¦å‘ createdï¼šåˆå§‹åŒ–å®Œæˆæ—¶çš„äº‹ä»¶å†™åœ¨è¿™é‡Œï¼Œå¦‚åœ¨è¿™ç»“æŸloadingäº‹ä»¶ï¼Œå¼‚æ­¥è¯·æ±‚ä¹Ÿé€‚å®œåœ¨è¿™é‡Œè°ƒç”¨ mountedï¼šæŒ‚è½½å…ƒç´ ï¼Œè·å–åˆ°DOMèŠ‚ç‚¹ updatedï¼šå¦‚æœå¯¹æ•°æ®åŒæ„å¤„ç†ï¼Œåœ¨è¿™é‡Œå†™ä¸Šç›¸åº”å‡½æ•° beforeDestroyï¼šå¯ä»¥åšä¸€ä¸ªç¡®è®¤åœæ­¢äº‹ä»¶çš„ç¡®è®¤æ¡† ç”Ÿå‘½å‘¨æœŸå‚è€ƒ ç”Ÿå‘½å‘¨æœŸå‡½æ•°åˆ†ç±»åˆ›å»ºé˜¶æ®µ åˆ›å»ºæœŸé—´çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š(ç‰¹ç‚¹ï¼šæ¯ä¸ªå®ä¾‹ä¸€è¾ˆå­åªæ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶ä¸”æ˜¯è‡ªåŠ¨çš„) beforeCreateï¼šåˆ›å»ºä¹‹å‰ï¼Œæ­¤æ—¶ data å’Œ methods å°šæœªåˆå§‹åŒ– created : ç¬¬ä¸€ä¸ªé‡è¦çš„å‡½æ•°ï¼Œæ­¤æ—¶ï¼Œdata å’Œ methods å·²ç»åˆ›å»ºå¥½äº†ï¼Œå¯ä»¥è¢«è®¿é—®ï¼Œåœ¨æ­¤å¤„éå¸¸é€‚åˆåšdataæ•°æ®åˆå§‹åŒ–æ“ä½œ beforeMountï¼šæŒ‚è½½å®¹å™¨æ¨¡æ¿ç»“æ„ä¹‹å‰ï¼Œæ­¤æ—¶ï¼Œå®¹å™¨çš„å†…å®¹å·²ç»è¢«Vueè·å–åˆ°äº†(å®¹å™¨æœ¬èº«è¿˜æ˜¯æœªè§£æçš„åŸå§‹å†…å®¹)ï¼› ç°åœ¨Vueå®ä¾‹å°±è¢«ç§°ä¸º Virtual DOM(è™šæ‹ŸDOM) mounted ç¬¬äºŒä¸ªé‡è¦çš„å‡½æ•°ï¼Œæ­¤æ—¶ï¼Œå®¹å™¨è¢«vueæ¸²æŸ“è§£æå®Œæ¯•ï¼›æ˜¯æ“ä½œåˆå§‹DOMå…ƒç´ çš„æœ€å¥½æ—¶æœº 123456beforeCreate() &#123; console.group('---------beforeCreateè°ƒç”¨--------') console.log('%c%s', 'color:red', 'elç°åœ¨çš„æ ·å­ï¼š' + this.$el) // undefined console.log('%c%s', 'color:red', 'dataç°åœ¨çš„æ ·å­ï¼š' + this.$data) // undefined console.log('%c%s', 'color:red', 'methodsæ–¹æ³•ç°åœ¨çš„æ ·å­ï¼š' + this.getInfo) // undefined&#125; console.group() æŒ‰ç…§ç»„åˆ«å¯¹è°ƒè¯•ä¿¡æ¯è¿›è¡Œåˆ’åˆ† %c: ç»™è°ƒè¯•ä¿¡æ¯è®¾ç½®æ ·å¼ï¼Œé€šè¿‡logçš„ç¬¬2ä¸ªå‚æ•°ä½“ç° $s: é€šè¿‡stringå­—ç¬¦ä¸²æ–¹å¼è¾“å‡ºä¿¡æ¯ï¼Œé€šè¿‡logçš„ç¬¬3ä¸ªå‚æ•°ä½“ç° this.$el: è·å¾—åˆ°ä¸Vueå®ä¾‹å…³è”çš„å®¹å™¨ this.$data: è·å¾—dataå…¨éƒ¨çš„æˆå‘˜ï¼Œä»¥å¯¹è±¡å½¢å¼è¿”å› this.getInfo: æŠŠmethodsæˆå‘˜æ–¹æ³•å½“åšæ™®é€šå˜é‡è·å–è¾“å‡º 123456created() &#123; console.group('---------createdè°ƒç”¨--------') console.log('%c%s', 'color:red', 'elç°åœ¨çš„æ ·å­ï¼š' + this.$el) // undefined console.log('%c%s', 'color:red', 'dataç°åœ¨çš„æ ·å­ï¼š' + this.$data) // å®ä½“ console.log('%c%s', 'color:red', 'methodsæ–¹æ³•ï¼š' + this.getDate) // å®ä½“&#125; &gt; åœ¨æ­¤å‡½æ•°ä¸­é€‚åˆè¿›è¡ŒVueæ•°æ®åˆå§‹åŒ–(è·å–é¦–å±æ•°æ®)æ“ä½œ 12345beforeMount() &#123; console.group('---------beforeMountè°ƒç”¨--------') console.log('%c%s', 'color:red', 'elç°åœ¨çš„æ ·å­ï¼š' + this.$el) // å®ä½“ console.log(this.$el) // ç¼–è¯‘ã€å‰ã€‘çš„å®ä½“å†…å®¹&#125; 12345mounted() &#123; console.group('---------mountedè°ƒç”¨--------') console.log('%c%s', 'color:red', 'elç°åœ¨çš„æ ·å­ï¼š' + this.$el) // å®ä½“ console.log(this.$el) // ç¼–è¯‘ã€åã€‘çš„å®ä½“å†…å®¹&#125; &gt; æ­¤æ—¶é€‚åˆå¯¹é¡µé¢domå…ƒç´ åšåˆå§‹åŒ–æ“ä½œè¿è¡Œé˜¶æ®µ è¿è¡ŒæœŸé—´çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼šï¼ˆç‰¹ç‚¹ï¼šæŒ‰éœ€è¢«è°ƒç”¨ è‡³å°‘0æ¬¡ï¼Œæœ€å¤šä¸é™åˆ¶ï¼‰ beforeUpdateï¼šæ ¹æ®æœ€æ–°çš„æ•°æ®é‡æ–°è§£ææ¸²æŸ“æµè§ˆå™¨é¡µé¢ï¼Œæ­¤æ—¶ vueè™šæ‹Ÿæ•°æ®æ˜¯æœ€æ–°çš„ï¼Œä½†æ˜¯é¡µé¢è¿˜æ˜¯æ—§çš„ updatedï¼šé¡µé¢å’Œæ•°æ®éƒ½æ˜¯æœ€æ–°çš„é¡µé¢å·²ç»å®Œæˆäº†æ›´æ–°ï¼Œæ­¤æ—¶dataæ•°æ®å’Œé¡µé¢éƒ½æ˜¯æœ€æ–°çš„ 12345678beforeUpdate() &#123; console.group(&apos;---------beforeUpdateè°ƒç”¨--------&apos;) console.log( &apos;%c%s&apos;, &apos;color:red&apos;, &apos;h2æ•°æ®æ›´æ–°ä¹‹å‰çš„æ•ˆæœï¼š&apos; + document.querySelector(&apos;h2&apos;).innerHTML )&#125; 12345678updated() &#123; console.group(&apos;---------updatedè°ƒç”¨--------&apos;) console.log( &apos;%c%s&apos;, &apos;color:red&apos;, &apos;h2æ•°æ®æ›´æ–°ä¹‹åçš„æ•ˆæœï¼š&apos; + document.querySelector(&apos;h2&apos;).innerHTML )&#125; æœ‰ â€œVirtual DOM(è™šæ‹ŸDOM)â€ï¼Œå…¶æ˜¯Vueå®ä¾‹è·å–åˆ°çš„divå®¹å™¨ï¼Œæ˜¯è™šæ‹Ÿçš„(ä¸æ˜¯é¡µé¢å®å®åœ¨åœ¨çœ‹åˆ°çš„)ï¼Œè¯¥VirtualDOM åœ¨Vueçš„ç”Ÿå‘½å‘¨æœŸè¿è¡Œé˜¶æ®µå§‹ç»ˆå­˜åœ¨ï¼Œéšæ—¶æ„ŸçŸ¥æ•°æ®å˜åŒ–ï¼Œéšæ—¶åŒæ­¥ç»™é¡µé¢ é”€æ¯é˜¶æ®µ é”€æ¯æœŸé—´çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š(ç‰¹ç‚¹ï¼šæ¯ä¸ªå®ä¾‹ä¸€è¾ˆå­åªæ‰§è¡Œä¸€æ¬¡) beforeDestroyï¼šå°†è¦é”€æ¯ï¼Œå¤„äºé”€æ¯ä¹‹å‰é˜¶æ®µï¼Œå®ä¾‹è¿˜æ­£å¸¸å¯ç”¨ destroyedï¼šé”€æ¯ä¹‹åï¼ŒVueå®ä¾‹å·²ç»ä¸å·¥ä½œäº† 1234beforeDestroy() &#123; console.group(&apos;---------beforeDestroyè°ƒç”¨--------&apos;) console.log(&apos;%c%s&apos;, &apos;color:red&apos;, &apos;elç°åœ¨çš„æ ·å­ï¼š&apos; + this.$el)&#125;, 1234destroyed() &#123; console.group(&apos;---------destroyedè°ƒç”¨--------&apos;) console.log(&apos;%c%s&apos;, &apos;color:red&apos;, &apos;elç°åœ¨çš„æ ·å­ï¼š&apos; + this.$el)&#125; å®Œæ•´åº”ç”¨ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;!--åˆ›å»ºä¸€ä¸ªdivå®¹å™¨ï¼Œvueå¯¹è¯¥å®¹å™¨è¿›è¡Œæ§åˆ¶ï¼Œè®¾ç½®è¦æ˜¾ç¤ºçš„å†…å®¹--&gt; &lt;div id=\"app\"&gt; &lt;h2&gt;&#123;&#123; msg &#125;&#125;&lt;/h2&gt; &lt;/div&gt; &lt;script src=\"./vue-2.6.10.js\"&gt;&lt;/script&gt; &lt;script&gt; var vm = new Vue(&#123; // 1) ç”Ÿå‘½å‘¨æœŸåˆ›å»ºé˜¶æ®µ(4ä¸ªå‡½æ•°),ä¼šè‡ªåŠ¨æ‰§è¡Œ beforeCreate()&#123; // Vueå®ä¾‹å·²ç»åˆ›å»ºå®Œæ¯•ï¼Œä½†æ˜¯ç›¸å…³çš„æˆå‘˜éƒ½æ²¡æœ‰ï¼Œelã€methodsã€dataç­‰ç­‰éƒ½æ²¡æœ‰ console.group('--------beforeCreateå‘ç”Ÿè°ƒç”¨--------') console.log('%c%s','color:red','elç°åœ¨çš„æ ·å­ï¼š'+this.$el) // undefined console.log('%c%s','color:red','dataç°åœ¨çš„æ ·å­ï¼š'+this.$data) // undefined console.log('%c%s','color:red','getDateç°åœ¨çš„æ ·å­ï¼š'+this.getDate) // undefined &#125;, created()&#123; // è¯¥é˜¶æ®µæ˜¯ä¸€ä¸ªã€é‡è¦ã€‘é˜¶æ®µï¼Œæ­¤æ—¶data å’Œ methodså·²ç»å‡†å¤‡å¥½äº†ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å»æ‰¾divå®¹å™¨ // æ­¤é˜¶æ®µå¯ä»¥ç”¨äºé¡µé¢é¦–å±æ•°æ®è·å–æ“ä½œï¼Œè·å–å›æ¥çš„æ•°æ®å­˜å‚¨ç»™dataçš„æŸä¸ªæˆå‘˜å³å¯ console.group('--------createdå‘ç”Ÿè°ƒç”¨--------') console.log('%c%s','color:red','elç°åœ¨çš„æ ·å­ï¼š'+this.$el) // undefined console.log('%c%s','color:red','dataç°åœ¨çš„æ ·å­ï¼š'+this.$data) // å®ä½“ console.log('%c%s','color:red','getDateç°åœ¨çš„æ ·å­ï¼š'+this.getDate) // å®ä½“ &#125;, beforeMount()&#123; // æ­¤é˜¶æ®µå®Œæˆäº†Vueå®ä¾‹å¯¹è±¡ ä¸ divå®¹å™¨è”ç³»çš„è¿‡ç¨‹(æœ¬è´¨æ˜¯divå®¹å™¨å·²ç»è¢«Vueå®ä¾‹è·å–åˆ°äº†) // ä½†æ˜¯divå®¹å™¨çš„å†…å®¹è¿˜æ˜¯æ²¡æœ‰ç¼–è¯‘å‰çš„åŸç”Ÿå†…å®¹ console.group('--------beforeMountå‘ç”Ÿè°ƒç”¨--------') console.log('%c%s','color:red','elç°åœ¨çš„æ ·å­ï¼š'+this.$el) // å®ä½“ console.log(document.getElementsByTagName('h2')[0]) // &#125;, mounted()&#123; // æ­¤é˜¶æ®µ Vueå®ä¾‹å·²ç»å®Œæˆäº†divå®¹å™¨çš„å†…å®¹çš„ç¼–è¯‘ï¼Œå¹¶ä¸”ç¼–è¯‘å¥½çš„å†…å®¹ä¹Ÿæ¸²æŸ“ç»™divå®¹å™¨äº† console.group('--------mountedå‘ç”Ÿè°ƒç”¨--------') console.log('%c%s','color:red','elç°åœ¨çš„æ ·å­ï¼š'+this.$el) // å®ä½“ console.log(document.getElementsByTagName('h2')[0]) // å®¹å™¨ç¼–è¯‘ã€åã€‘å®ä½“å†…å®¹ &#125;, // 2) ç”Ÿå‘½å‘¨æœŸè¿è¡Œé˜¶æ®µ(2ä¸ªå‡½æ•°),dataæ•°æ®å˜åŒ–åæ‰ä¼šæ‰§è¡Œ beforeUpdate() &#123; console.group('---------beforeUpdateè°ƒç”¨--------') console.log( '%c%s', 'color:red', 'h2æ•°æ®æ›´æ–°ã€å‰ã€‘çš„æ•ˆæœï¼š' + document.querySelector('h2').innerHTML ) &#125;, updated() &#123; console.group('---------updatedè°ƒç”¨--------') console.log( '%c%s', 'color:red', 'h2æ•°æ®æ›´æ–°ã€åã€‘çš„æ•ˆæœï¼š' + document.querySelector('h2').innerHTML ) &#125;, // 3) ç”Ÿå‘½å‘¨æœŸé”€æ¯é˜¶æ®µ(2ä¸ªå‡½æ•°),åªæœ‰vmè°ƒç”¨$destroy()æ–¹æ³•åæ‰æ‰§è¡Œ beforeDestroy() &#123; console.group('---------beforeDestroyè°ƒç”¨--------') console.log('%c%s', 'color:red', 'elç°åœ¨çš„æ ·å­ï¼š' + this.$el) &#125;, destroyed() &#123; console.group('---------destroyedè°ƒç”¨--------') console.log('%c%s', 'color:red', 'elç°åœ¨çš„æ ·å­ï¼š' + this.$el) &#125;, el: '#app', data: &#123; msg: 'ç”Ÿå‘½å‘¨æœŸå­¦ä¹ ç¯‡' &#125;, methods: &#123; getDate()&#123; console.log('Sunday') &#125; &#125; &#125;) &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; å°ç»“ï¼šç”Ÿå‘½å‘¨æœŸåˆ›å»ºé˜¶æ®µçš„createdå’Œmountedä¸¤ä¸ªå‡½æ•°æœ€ç»å¸¸ä½¿ç”¨ï¼Œå…¶ä»–äº†è§£å³å¯ createdï¼šä¸€èˆ¬ç”¨äºé¡µé¢é¦–å±dataæ•°æ®åˆå§‹åŒ–ä½¿ç”¨ mountedï¼šå¯å¯¹æ¸²æŸ“å®Œæ¯•çš„é¡µé¢åšdomåˆå§‹åŒ–æ“ä½œ(ä¾‹å¦‚ç»™domå…ƒç´ è®¾ç½®äº‹ä»¶)","path":"2018/11/28/vueç”Ÿå‘½å‘¨æœŸ/","date":"11-28","excerpt":"","tags":[{"name":"vue","slug":"vue","permalink":"http://diamond-sjh.github.io/tags/vue/"}]},{"title":"å›è°ƒå‡½æ•°é—­åŒ…é€’å½’","text":"1ã€å‡½æ•°ä½œä¸ºå‡½æ•°å‚æ•°(å›è°ƒå‡½æ•°) ç°è±¡ï¼šæŠŠä¸€ä¸ªå‡½æ•°Bå½“åšå®å‚ï¼Œä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°çš„Açš„å½¢å‚ï¼Œå¹¶åœ¨å‡½æ•°Aå†…éƒ¨è°ƒç”¨ å‚æ•°ï¼š å½¢å‚ï¼šå‡½æ•°å®šä¹‰æ—¶ï¼Œå°æ‹¬å·ä¸­çš„æ ‡è¯†ç¬¦ å®å‚ï¼šå‡½æ•°è°ƒç”¨æ—¶ï¼Œå°æ‹¬å·ä¸­å®é™…çš„æ•°æ® å…³ç³»ï¼šå®å‚ä»£è¡¨çš„å®é™…æ•°æ®ä¼ é€’ç»™å‡½æ•°å†…éƒ¨çš„å½¢å‚ä½¿ç”¨ã€‚ åº”ç”¨åœºæ™¯ï¼šå½“å¤–éƒ¨å‘å‡½æ•°å†…éƒ¨ä¼ å…¥æ•°æ®æ—¶ã€‚ ä»£ç ï¼š 123456789101112// å®šä¹‰å‡½æ•°A// væ˜¯å½¢å‚function A(v) &#123; v(11,22);&#125;// è°ƒç”¨A( // å‡½æ•°B function (a,b) &#123; console.log(a + b); &#125;); å›¾è§£ï¼š 1.2 å‡½æ•°ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼ å…³é”®å­—ï¼šreturn æ•°æ®; åº”ç”¨ï¼šå‡½æ•°å†…éƒ¨è¦æŠŠç»“æœæš´éœ²ç»™å¤–éƒ¨æ—¶ä½¿ç”¨è¿”å›å€¼ ä»£ç ï¼š 123456789// ã€è¿”å›å€¼æ˜¯å‡½æ•°æ—¶ã€‘ function fn() &#123; return function()&#123; console.log('æˆ‘æ˜¯å†…éƒ¨çš„çš„å‡½æ•°'); &#125;; &#125; // è°ƒç”¨å‡½æ•° var r = fn(); r(); å›¾è§£ï¼š 3ã€é—­åŒ… å˜é‡çš„ç”Ÿå‘½å‘¨æœŸï¼šä»€ä¹ˆæ—¶å€™åœ¨å†…å­˜ä¸­è¢«é‡Šæ”¾ å…¨å±€å˜é‡çš„ç”Ÿå‘½å‘¨æœŸï¼šç¨‹åºå…³é—­ã€‚ å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸï¼šå‡½æ•°æ‰§è¡Œç»“æŸåã€‚ ä½œç”¨åŸŸï¼š å†…å±‚ å¯ä»¥ è®¿é—® å¤–å±‚ï¼Œåä¹‹ä¸è¡Œ é—­åŒ…çš„ä½œç”¨ï¼š ç›®çš„å»¶é•¿å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ ç»´æŠ¤ç§æœ‰å˜é‡-å±€éƒ¨å˜é‡çš„å®‰å…¨ GCï¼ˆGarbage Collectionï¼‰åƒåœ¾å›æ”¶æœºåˆ¶ å›æ”¶æ²¡æœ‰ç”¨çš„æ•°æ®ã€‚ æœ‰ç”¨çš„æ•°æ®ï¼šè¢«å…¨å±€ä¸­æ“ä½œçš„å˜é‡ã€‚ é—­åŒ…çš„æ¦‚å¿µï¼š MDNï¼šé—­åŒ…æ˜¯å‡½æ•°å’Œå£°æ˜è¯¥å‡½æ•°çš„è¯æ³•ç¯å¢ƒçš„ç»„åˆã€‚ ç™¾åº¦ç™¾ç§‘ï¼š â€‹ é—­åŒ…(Closure)å°±æ˜¯èƒ½å¤Ÿè¯»å–å…¶ä»–å‡½æ•°å†…éƒ¨å˜é‡çš„å‡½æ•°ã€‚ä¾‹å¦‚åœ¨javascriptä¸­ï¼Œåªæœ‰å‡½æ•°å†…éƒ¨çš„å­å‡½æ•°æ‰èƒ½è¯»å–å±€éƒ¨å˜é‡ï¼Œæ‰€ä»¥é—­åŒ…å¯ä»¥ç†è§£æˆâ€œå®šä¹‰åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨çš„å‡½æ•°â€œã€‚åœ¨æœ¬è´¨ä¸Šï¼Œé—­åŒ…æ˜¯å°†å‡½æ•°å†…éƒ¨å’Œå‡½æ•°å¤–éƒ¨è¿æ¥èµ·æ¥çš„==æ¡¥æ¢==ã€‚ æ€»ç»“ï¼šæ¡¥æ¢ ä»£ç ï¼š 12345678910// ç”Ÿæ´»ï¼šè—åœ¨åˆ«å¢…ä¸­çš„ä¸‰å„¿ï¼Œè¢«å¤–éƒ¨çš„æœé˜³ç¾¤ä¼—æ“ä½œäº†ã€‚ function bieShu () &#123; var a = 'ä¸‰å„¿'; // å±€éƒ¨å˜é‡ var guanJia = function() &#123; console.log(a); // æ“ä½œäº†å¤–éƒ¨çš„å±€éƒ¨å˜é‡ &#125;; return guanJia; // è¿”å›äº†å­å‡½æ•°çš„åœ°å€ &#125; var cyqz = bieShu(); // æ¥æ”¶äº†å­å‡½æ•°çš„åœ°å€ cyqz(); å›¾è§£ï¼š å¦‚ä½•æ£€æµ‹ä¸€ä¸ªç¨‹åºæ˜¯å¦å­˜åœ¨é—­åŒ… å¤–å±‚å‡½æ•° å’Œ å­å‡½æ•° å¤–å±‚å‡½æ•°å¿…é¡»æœ‰å±€éƒ¨å˜é‡ å­å‡½æ•°è¦æ“ä½œå¤–å±‚å‡½æ•°çš„å±€éƒ¨å˜é‡ è®©å­å‡½æ•°å’Œå¤–éƒ¨äº§ç”Ÿå…³è”ï¼ˆå…³è”ä¸ä¸€å®šæ˜¯è¿”å›å‡½æ•°ï¼‰ æˆ–è€…ï¼Œ æµè§ˆå™¨F12æ‰“å¼€å¼€å‘è€…å·¥å…· ç‚¹åˆ° Sources ä¸€æ  æ‰“å¼€htmlæ–‡æ¡£ åœ¨å­å‡½æ•°å†…éƒ¨è®¾ç½®æ–­ç‚¹ï¼Œåˆ·æ–° æ£€æŸ¥å³è¾¹çš„ Scope å­˜åœ¨Closureå³å­˜åœ¨é—­åŒ… 4ã€é€’å½’ é€’å½’çš„ä¼˜ç‚¹ï¼šå‡å°‘ä»£ç é‡ é€’å½’çš„ç¼ºç‚¹ï¼šæ¶ˆè€—å†…å­˜ï¼Œå†…å­˜æ ˆæº¢å‡º,æŠ¥é”™ï¼ 4.1 ä»€ä¹ˆæ˜¯é€’å½’ å‡½æ•°è°ƒç”¨è‡ªèº«çš„ç¼–ç¨‹æŠ€å·§ã€‚ å®˜æ–¹æ¦‚å¿µ ç¨‹åºè°ƒç”¨è‡ªèº«çš„ç¼–ç¨‹æŠ€å·§ç§°ä¸ºé€’å½’ï¼ˆ recursionï¼‰ã€‚é€’å½’åšä¸ºä¸€ç§ç®—æ³•åœ¨ç¨‹åºè®¾è®¡è¯­è¨€ä¸­å¹¿æ³›åº”ç”¨ã€‚ ä¸€ä¸ªè¿‡ç¨‹æˆ–å‡½æ•°åœ¨å…¶å®šä¹‰æˆ–è¯´æ˜ä¸­æœ‰ç›´æ¥æˆ–é—´æ¥è°ƒç”¨è‡ªèº«çš„ä¸€ç§æ–¹æ³•ï¼Œå®ƒé€šå¸¸æŠŠä¸€ä¸ªå¤§å‹å¤æ‚çš„é—®é¢˜å±‚å±‚è½¬åŒ–ä¸ºä¸€ä¸ªä¸åŸé—®é¢˜ç›¸ä¼¼çš„è§„æ¨¡è¾ƒå°çš„é—®é¢˜æ¥æ±‚è§£ï¼Œé€’å½’ç­–ç•¥åªéœ€å°‘é‡çš„ç¨‹åºå°±å¯æè¿°å‡ºè§£é¢˜è¿‡ç¨‹æ‰€éœ€è¦çš„å¤šæ¬¡é‡å¤è®¡ç®—ï¼Œå¤§å¤§åœ°å‡å°‘äº†ç¨‹åºçš„ä»£ç é‡** ã€‚é€’å½’çš„èƒ½åŠ›åœ¨äºç”¨æœ‰é™çš„è¯­å¥æ¥å®šä¹‰å¯¹è±¡çš„æ— é™é›†åˆã€‚ä¸€èˆ¬æ¥è¯´ï¼Œé€’å½’éœ€è¦æœ‰==è¾¹ç•Œæ¡ä»¶== ã€==é€’å½’å‰è¿›æ®µ== å’Œ==é€’å½’è¿”å›æ®µ== ã€‚å½“è¾¹ç•Œæ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œé€’å½’å‰è¿›ï¼›å½“è¾¹ç•Œæ¡ä»¶æ»¡è¶³æ—¶ï¼Œé€’å½’è¿”å›ã€‚ 4.2 é€’å½’çš„ä¸‰ä¸ªé˜¶æ®µ é€’å½’å‰è¿›æ®µ é€’å½’è¾¹ç•Œæ¡ä»¶ é€’å½’è¿”å›æ®µ æ¡ˆä¾‹ï¼š ä¾‹å­1â€“ â€“å¦‚ï¼šä¸€ç»„æœ‰è§„å¾‹çš„å¹´é¾„10 ã€12ã€14ã€16ã€18ã€20ã€22ã€24â€¦â€¦ï¼Œæ±‚ç¬¬nä¸ªäººçš„å¹´é¾„ 123456789101112131415161718192021222324252627282930// è§„å¾‹ï¼šç¬¬nä¸ªäººçš„å¹´é¾„ = ç¬¬n-1ä¸ªäººçš„å¹´é¾„ + 2// åˆ›å»ºä¸€ä¸ªå‡½æ•°function age(n) &#123; if(n==1) &#123; return 10; &#125;else &#123; return age(n-1) + 2; &#125;&#125;// è°ƒç”¨var r = age(5); // è‹¥fnçš„å½¢å‚è¶…è¿‡ä¸€å®šæ•°å€¼ï¼Œä¼šå¯¼è‡´å†…å­˜æ ˆæº¢å‡ºæŠ¥é”™ã€‚å¦‚ï¼šage(5000)ï¼Œç³»ç»Ÿä¼šæŠ¥é”™console.log(r); // è¿è¡Œè¿‡ç¨‹å¦‚ä¸‹// -------------------------é€’å½’å‰è¿›æ®µ// age(5) // ç­‰å¾…...// age(4) + 2 // ç­‰å¾…...// age(3) + 2 // ç­‰å¾…...// age(2) + 2 // ç­‰å¾…...// age(1) + 2// age(1) 10 // -------é€’å½’è¾¹ç•Œæ¡ä»¶// -------------------------é€’å½’è¿”å›æ®µ// age(2) 12// age(3) 14// age(4) 16// age(5) 18 ä¾‹å­2â€“ â€“å¦‚ï¼šä¸€ç»„æœ‰è§„å¾‹çš„æ•°å­—1ã€1ã€2ã€3ã€5ã€8ã€13â€¦.ï¼Œæ±‚ç¬¬nä¸ªæ•°å­— 123456789101112// è§„å¾‹ï¼šç¬¬nä¸ªæ•°å­—çš„ç»“æœ = ç¬¬n-1ä¸ªæ•°å­—çš„ç»“æœ + ç¬¬n-2ä¸ªæ•°å­—çš„ç»“æœfunction fn(n) &#123; if(n==1||n==2) &#123; return 1; &#125;else &#123; return fn(n-1) + fn(n-2); &#125;&#125;var r = fn(30); // è‹¥fnçš„å½¢å‚è¶…è¿‡ä¸€å®šæ•°å€¼ï¼Œä¼šå¯¼è‡´å†…å­˜æ ˆæº¢å‡ºæŠ¥é”™ã€‚å¦‚ï¼šfn(3000)ï¼Œç³»ç»Ÿä¼šæŠ¥é”™console.log(r);","path":"2017/06/15/å›è°ƒå‡½æ•°é—­åŒ…é€’å½’/","date":"06-15","excerpt":"","tags":[{"name":"javascript","slug":"javascript","permalink":"http://diamond-sjh.github.io/tags/javascript/"}]},{"title":"æµ…æ‹·è´å’Œæ·±æ‹·è´","text":"1ã€æµ…æ‹·è´å’Œæ·±æ‹·è´ æ‹·è´ï¼šå¯¹è±¡ä¹‹é—´çš„æ‹·è´ã€‚ ä¸€ä¸ªå¯¹è±¡æ‹·è´å¦ä¸€ä¸ªå¯¹è±¡ä¸­æˆå‘˜ 1.1 æµ…æ‹·è´ æµ…æ‹·è´ï¼šé’ˆå¯¹èµ‹å€¼æ•°æ®æˆå‘˜ï¼Œæ‹·è´æ—¶ï¼Œä»…ä»…æ‹·è´åœ°å€ï¼Œå †ä¸­çš„æ•°æ®æœ‰è¢«æ‹·è´ã€‚ ä»£ç ï¼š 12345678910111213141516171819202122232425262728// å®šä¹‰å‡½æ•° å‚æ•°fuï¼Œè¡¨ç¤ºçˆ¶å¯¹è±¡ å‚æ•°ziï¼Œè¡¨ç¤ºå­å¯¹è±¡function copy(fu, zi) &#123; for (var key in fu) &#123; if (zi[key] == undefined) &#123; zi[key] = fu[key]; &#125; &#125;&#125;// çˆ¶å¯¹è±¡var wjl = &#123; name: 'ç‹ä¸€', money: 100000000, houses: ['åˆ«å¢…1', 'ç©å¤§2', 'æ¯›å¯3', 'ç“¦æˆ¿4'], cars: ['å®é©¬', 'å¥”é©°', 'æ‹–æ‹‰æœº', 'ä¸‰è¹¦å­']&#125;;// å­å¯¹è±¡1var wsc = &#123; name: 'ç‹äºŒ'&#125;// å­å¯¹è±¡var wxc = &#123; name: 'ç‹ä¸‰'&#125;copy(wjl, wsc);copy(wjl, wxc); 1.2 æ·±æ‹·è´ æ·±æ‹·è´ï¼šåœ¨å †ä¸­å¼€è¾Ÿæ–°çš„ç©ºé—´æ‹·è´å †ä¸­çˆ¶å¯¹è±¡çš„æ•°æ®ï¼Œåœ¨æ ˆä¸­å¼€è¾Ÿæ–°çš„ç©ºé—´å­˜å †ç©ºé—´ä¸­æ•°æ®çš„åœ°å€ ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445// å‚æ•°fuï¼Œè¡¨ç¤ºçˆ¶å¯¹è±¡// å‚æ•°ziï¼Œè¡¨ç¤ºå­å¯¹è±¡function copy(fu, zi) &#123; for (var key in fu) &#123; if (zi[key] == undefined) &#123; zi[key] = fu[key]; &#125; &#125;&#125;// å‚æ•°fuï¼Œè¡¨ç¤ºçˆ¶å¯¹è±¡// å‚æ•°ziï¼Œè¡¨ç¤ºå­å¯¹è±¡function deepCopy(fu, zi) &#123; for (var key in fu) &#123; if (zi[key] == undefined) &#123; // åˆ¤æ–­æ˜¯å¦æ˜¯æ•°ç»„ if (fu[key] instanceof Array) &#123; // å­å¯¹è±¡è¦å¼€è¾Ÿæ–°çš„ç©ºé—´å­˜æ”¾æ•°ç»„ zi[key] = new Array(); // æŠŠçˆ¶å¯¹è±¡æ•°ç»„ä¸­æˆå‘˜ æ‹·è´ åˆ°å­å¯¹è±¡çš„æ•°ç»„ä¸­ copy(fu[key],zi[key]) // åŒºåˆ« &#125; else &#123; zi[key] = fu[key]; &#125; &#125; &#125;&#125;// çˆ¶å¯¹è±¡var wjl = &#123; name: 'ç‹å¤§', money: 100000000, houses: ['åˆ«å¢…1', 'ç©å¤§2', 'æ¯›å¯3', 'ç“¦æˆ¿4'], cars: ['å®é©¬', 'å¥”é©°', 'æ‹–æ‹‰æœº', 'ä¸‰è¹¦å­']&#125;;// å­å¯¹è±¡1var wsc = &#123; name: 'ç‹äºŒ'&#125;// å­å¯¹è±¡var wxc = &#123; name: 'ç‹ä¸‰'&#125;deepCopy(wjl, wsc);deepCopy(wjl, wxc); æ·±æ‹·è´â€“é€’å½’ 1234567891011121314151617181920212223242526272829303132333435363738// å‚æ•°fuï¼Œè¡¨ç¤ºçˆ¶å¯¹è±¡// å‚æ•°ziï¼Œè¡¨ç¤ºå­å¯¹è±¡function deepCopy(fu, zi) &#123; for (var key in fu) &#123; if (zi[key] == undefined) &#123; // åˆ¤æ–­æ˜¯å¦æ˜¯æ•°ç»„ if (fu[key] instanceof Array) &#123; // å­å¯¹è±¡è¦å¼€è¾Ÿæ–°çš„ç©ºé—´å­˜æ”¾æ•°ç»„ zi[key] = new Array(); // æŠŠçˆ¶å¯¹è±¡æ•°ç»„ä¸­æˆå‘˜ æ‹·è´ åˆ°å­å¯¹è±¡çš„æ•°ç»„ä¸­ deepCopy(fu[key],zi[key]) // åŒºåˆ« &#125; else &#123; zi[key] = fu[key]; &#125; &#125; &#125;&#125;// çˆ¶å¯¹è±¡var wjl = &#123;name: 'ç‹å¤§',money: 100000000,houses: ['åˆ«å¢…1', 'ç©å¤§2', 'æ¯›å¯3', 'ç“¦æˆ¿4'],cars: ['å®é©¬', 'å¥”é©°', 'æ‹–æ‹‰æœº', 'ä¸‰è¹¦å­']&#125;;// å­å¯¹è±¡1var wsc = &#123;name: 'ç‹äºŒ'&#125;// å­å¯¹è±¡var wxc = &#123;name: 'ç‹ä¸‰'&#125;deepCopy(wjl, wsc);deepCopy(wjl, wxc);","path":"2017/05/28/æµ…æ‹·è´å’Œæ·±æ‹·è´/","date":"05-28","excerpt":"","tags":[{"name":"javascript","slug":"javascript","permalink":"http://diamond-sjh.github.io/tags/javascript/"}]},{"title":"å‡½æ•°å†…thisæŒ‡å‘ä»¥åŠæ”¹å˜thisæŒ‡å‘","text":"1ã€å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ å‡½æ•°çš„åˆ›å»º==&gt;åº•å±‚éƒ½æ˜¯newå…³é”®å­—åˆ›å»ºå‡½æ•° å‡½æ•°å£°æ˜ï¼š 123function sum(a,b) &#123; console.log(a + b);&#125; å‡½æ•°è¡¨è¾¾å¼ï¼š 123var sum = function sum(a,b) &#123; console.log(a + b);&#125; newå…³é”®å­—åˆ›å»ºå‡½æ•°ï¼š 123// è¯­æ³•ï¼švar å˜é‡å = new Function ('å½¢å‚1'ï¼Œ'å½¢å‚2'ï¼Œ...ï¼Œ'å‡½æ•°ä½“ä¸­çš„ä»£ç ')var sum = new Function('a','b','console.log(a + b)');sum(10,20); 2ã€å‡½æ•°å†…éƒ¨thisçš„æŒ‡å‘ thisçš„æŒ‡å‘å…³é”®æ˜¯çœ‹å‡½æ•°çš„è°ƒç”¨æ–¹æ³• 2.1 æ™®é€šå‡½æ•°ä¸­thisçš„æŒ‡å‘ thisæŒ‡å‘window ä»£ç ï¼š 1234567891011121314151617181920212223// ã€åœ¨æ™®é€šå‡½æ•°ä¸­thisæŒ‡å‘windowã€‘// function fn() &#123;// console.log(this);// &#125;// fn();// var fn = function() &#123;// console.log(this);// &#125;;// fn();// (function()&#123;// console.log(this);// &#125;)();function fn1() &#123; function fn2() &#123; console.log(this); &#125; fn2();&#125;fn1(); 2.2 æ„é€ å‡½æ•°ä¸­thisçš„æŒ‡å‘ thisæŒ‡å‘å½“å‰åˆ›å»ºçš„å¯¹è±¡â€”-åœ¨å†…å­˜ä¸­å¼€è¾Ÿçš„ç©ºé—´ ä»£ç ï¼š 123456789101112 // ã€åœ¨æ„é€ å‡½æ•°ä¸­thisæŒ‡å‘å½“å‰åˆ›å»ºçš„å¯¹è±¡ã€‘function Student(name,age) &#123; this.name = name; this.age =age;&#125;// åŸå‹ä¸­æ·»åŠ æ–¹æ³•Student.prototype.sayHi = function() &#123; console.log('æˆ‘å«' + this.name);&#125;;var stu1 = new Student('å¼ ä¸‰',10); // ==&gt;thisæŒ‡å‘stu1var stu2 = new Student('æå››',10); // ==&gt;thisæŒ‡å‘stu2 2.3 å¯¹è±¡æ–¹æ³•ä¸­çš„thisæŒ‡å‘ thisæŒ‡å‘è°ƒç”¨è€… ä»£ç ï¼š 123456789101112// ã€åœ¨æ–¹æ³•ä¸­ï¼ŒthisæŒ‡å‘è°ƒç”¨è€…ã€‚ å¯¹è±¡.æ–¹æ³•ï¼ˆï¼‰ã€‘function Student(name,age) &#123; this.name = name; this.age =age;&#125;// åŸå‹ä¸­æ·»åŠ æ–¹æ³•Student.prototype.sayHi = function() &#123; console.log('æˆ‘å«' + this.name);&#125;;var stu1 = new Student('å¼ ä¸‰',10); // ==&gt;thisæŒ‡å‘stu1stu1.sayHi(); // ==&gt;æ–¹æ³•sayHiä¸­çš„thisæŒ‡å‘stu1 2.4 å®šæ—¶å™¨ä¸­thisçš„æŒ‡å‘ thisæŒ‡å‘window ä»£ç ï¼š 1234// ã€åœ¨å®šæ—¶å™¨ä¸­thisæŒ‡å‘windnowã€‘setTimeout(function()&#123; console.log(this);&#125;,5000); 2.5 äº‹ä»¶å¤„ç†ç¨‹åºä¸­thisæŒ‡å‘ thisæŒ‡å‘äº‹ä»¶æº ä»£ç ï¼š 1234// ã€åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­ï¼ŒthisæŒ‡å‘äº‹ä»¶æºã€‘document.onclick = function() &#123; console.log(this);&#125;; 3ã€æ”¹å˜thisçš„æŒ‡å‘3.1 callæ–¹æ³• è¯­æ³•ï¼šå‡½æ•°å.call(è°ƒç”¨è€…ï¼Œå®å‚1â€¦) ä½œç”¨ï¼šå‡½æ•°è¢«å€Ÿç”¨æ—¶ï¼Œä¼šç«‹å³æ‰§è¡Œï¼Œå¹¶ä¸”å‡½æ•°ä½“å†…çš„thisä¼šæŒ‡å‘è°ƒç”¨è€…(å€Ÿç”¨è€…) ä»£ç ï¼š 123456789function fn(name, age) &#123; this.name = name; this.age = age; console.log(this == obj); //==&gt;true&#125; // å¯¹è±¡å­—é¢é‡var obj = &#123;&#125;;fn.call(obj, 'æå››', 11); //==&gt;fnä¸­çš„thisæŒ‡å‘obj 3.2 applyæ–¹æ³• è¯­æ³•ï¼šå‡½æ•°å.apply(è°ƒç”¨è€…ï¼Œ[å®å‚1ï¼Œå®å‚2,â€¦.]) ==&gt;å‚æ•°ä»¥æ•°ç»„çš„å½¢å¼ ä½œç”¨ï¼šå‡½æ•°è¢«å€Ÿç”¨æ˜¯ï¼Œä¼šç«‹å³æ‰§è¡Œï¼Œå¹¶ä¸”å‡½æ•°ä½“å†…çš„thisä¼šæŒ‡å‘è°ƒç”¨è€…(å€Ÿç”¨è€…) ä»£ç ï¼š 123456789function fn(name, age) &#123; this.name = name; this.age = age; console.log(this == obj); //==&gt;true&#125; // å¯¹è±¡å­—é¢é‡var obj = &#123;&#125;;fn.call(obj, ['æå››', 11]); //==&gt;fnä¸­çš„thisæŒ‡å‘obj 3.3 bindæ–¹æ³• è¯­æ³•ï¼šå‡½æ•°å.bind(è°ƒç”¨è€…ï¼Œå®å‚1â€¦.) ä½œç”¨ï¼šå‡½æ•°è¢«å€Ÿç”¨æ—¶ï¼Œä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚éœ€è¦è‡ªå·±æ‰‹åŠ¨è°ƒç”¨æ–°çš„å‡½æ•°ã€‚ ä»£ç ï¼š 1234567891011function fn(name, age) &#123; this.name = name; this.age = age; console.log(this == obj); //==&gt;true &#125; // å¯¹è±¡å­—é¢é‡ var obj = &#123;&#125;; var newFn = fn.bind(obj, 'æå››', 11); newFn();// fn.bind(obj, 'æå››', 11)(); 3.4 ä½¿ç”¨ ä»£ç ï¼š 123456789101112// thisæŒ‡å‘windowvar name = 'window';var obj = &#123;name = 'obj'&#125;;setTimeout(function()&#123; console.log(this.name); //==&gt;è¾“å‡ºwindow&#125;,2000)// thisæŒ‡å‘objvar name = 'window';var obj = &#123;name = 'obj'&#125;;setTimeout(function()&#123; console.log(this.name); //==&gt;è¾“å‡ºobj&#125;.bind(obj),2000) // bindä¸ä¼šç«‹å³æ‰§è¡Œ ä¼ªæ•°ç»„å€Ÿç”¨æ•°ç»„çš„pushæ–¹æ³•å®ç°å¢åŠ  ä»£ç ï¼š 12345678910111213var arr = [10,20,30,40];// arr.push(50); // pushä¸ºæ•°ç»„ä¸­çš„æ–¹æ³•var obj = &#123; 0:10, 1:20, 2:30, 3:40, length:4&#125;// console.log(arr instanceof Array); ==&gt;true// console.log(obj instanceof Array); ==&gt;false// Array.prototype.push ==&gt;æ„é€ å‡½æ•°Arrayçš„åŸå‹ä¸­çš„pushæ–¹æ³•Array.prototype.push.call(obj,50); // ==&gt;æ”¹å˜pushä¸­thisæŒ‡å‘ä¸ºobj","path":"2017/05/20/å‡½æ•°å†…thisæŒ‡å‘ä»¥åŠæ”¹å˜thisæŒ‡å‘/","date":"05-20","excerpt":"","tags":[{"name":"javascript","slug":"javascript","permalink":"http://diamond-sjh.github.io/tags/javascript/"}]},{"title":"JSä¸­ç®€å•çš„å‡ ç§ç»§æ‰¿æ–¹æ³•","text":"1ã€ç»§æ‰¿ä»‹ç» ES6ä¹‹å‰æ²¡æœ‰æ–¹æ³•ç›´æ¥å®ç°ç»§æ‰¿ï¼Œè¿™é‡Œçš„ç»§æ‰¿æ˜¯åˆ©ç”¨æŠ€å·§æ–¹æ³•æ¥æ¨¡æ‹Ÿå®ç°ï¼› ä½œç”¨ï¼šå‡å°‘ä»£ç æˆ–ç®€åŒ–ä»£ç  ç”Ÿæ´»ï¼šå­æ‰¿çˆ¶ä¸š ç¼–ç¨‹ï¼šç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»ã€‚å­ç±»ç»§æ‰¿çˆ¶ç±»ä¸­çš„æˆå‘˜ ä¸ä½¿ç”¨ç»§æ‰¿ï¼Œç±»ä¸ç±»ä¹‹é—´å¯èƒ½æœ‰é‡å¤çš„å±æ€§å’Œæ–¹æ³•ï¼š å­¦ç”Ÿç±»ï¼šå§“åã€å¹´é¾„ã€æ€§åˆ«ã€å­¦å·ã€æ‰“æ‹›å‘¼ã€è·‘ åŒ»ç”Ÿç±»ï¼šå§“åã€å¹´é¾„ã€æ€§åˆ«ã€é’±ã€æ‰“æ‹›å‘¼ã€è·‘ è€å¸ˆç±»ï¼šå§“åã€å¹´é¾„ã€æ€§åˆ«ã€å·¥å·ã€æ‰“æ‹›å‘¼ã€è·‘ â€¦â€¦ ä½¿ç”¨ç»§æ‰¿ï¼ŒæŠŠä¸åŒç±»ä¹‹é—´ç›¸åŒçš„å±æ€§å’Œæ–¹æ³•é‡æ–°å®šä¹‰ä¸ºä¸€ä¸ªç±»çš„ï¼š äººç±»[çˆ¶ç±»]ï¼šå§“åã€å¹´é¾„ã€æ€§åˆ«ã€æ‰“æ‹›å‘¼ã€è·‘ å­¦ç”Ÿç±»[å­ç±»]â†’äººç±»[çˆ¶ç±»] åŒ»ç”Ÿç±»[å­ç±»]â†’äººç±»[çˆ¶ç±»] è€å¸ˆç±»[å­ç±»]â†’äººç±»[çˆ¶ç±»] â€¦â€¦ 2ã€åŸå‹ç»§æ‰¿ ä¼˜ç¼ºç‚¹ï¼š ä¼˜ç‚¹ï¼šå®Œç¾ç»§æ‰¿äº†æ–¹æ³• ç¼ºç‚¹ï¼šæ— æ³•å®Œç¾ç»§æ‰¿å±æ€§ å¦‚ä½•å®ç°åŸå‹ç»§æ‰¿ï¼š â‘ å…ˆæ›´æ”¹å­ç±»çš„åŸå‹prototypeæŒ‡å‘çˆ¶ç±»çš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡ã€‚ å­ç±».prototype = new çˆ¶ç±»(); â‘¡å†ç»™å­ç±»çš„åŸå‹(å³new çˆ¶ç±»())è®¾ç½®ä¸€ä¸ªconstructoræŒ‡å‘è¯¥å­ç±» å­ç±».prototype.constructor = å­ç±»ï¼› å›¾è§£ï¼š ä»£ç ï¼š 1234567891011121314151617181920212223242526272829// äººç±» â†’ çˆ¶ç±» function Person() &#123; this.name = 'åå­—'; this.age = 10; this.gender = 'ç”·'; &#125; Person.prototype.sayHi = function () &#123; console.log('ä½ å¥½'); &#125;; Person.prototype.eat = function () &#123; console.log('æˆ‘ä¼šåƒã€‚ã€‚ã€‚'); &#125;; Person.prototype.play = function () &#123; console.log('æˆ‘ä¼šç©'); &#125;; // å­¦ç”Ÿç±» â†’ å­ç±» function Student() &#123; this.stuId = 1000; &#125; // å­ç±»çš„åŸå‹prototypæŒ‡å‘çˆ¶ç±»çš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡ Student.prototype = new Person(); // æ·»åŠ ä¸€ä¸ªconstructoræˆå‘˜ Student.prototype.constructor = Student; // å¦‚ä½•å®ç°åŸå‹ç»§æ‰¿ï¼š // ç»™å­ç±»çš„åŸå‹prototypeé‡æ–°èµ‹å€¼ä¸ºçˆ¶ç±»çš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡ã€‚ // åˆ©ç”¨äº†åŸå‹é“¾ä¸Šå±æ€§æˆ–æ–¹æ³•çš„æŸ¥æ‰¾è§„åˆ™ã€‚ // åˆ›å»ºä¸€ä¸ªå­¦ç”Ÿå¯¹è±¡ var stu1 = new Student(); console.log(stu1.constructor) 3ã€å€Ÿç”¨ç»§æ‰¿ æœ¬è´¨å°±æ˜¯æ”¹å˜çˆ¶ç±»æ„é€ å‡½æ•°ä¸­thisæŒ‡å‘å­ç±»(è¿™é‡Œä½¿ç”¨callæ–¹æ³•)ï¼Œå­ç±»è°ƒç”¨çˆ¶ç±»å±æ€§ ä¼˜ç¼ºç‚¹ï¼š ä¼˜ç‚¹ï¼šå®Œç¾ç»§æ‰¿äº†å±æ€§ ç¼ºç‚¹ï¼šæ— æ³•ç»§æ‰¿æ–¹æ³•ã€‚ 3.1 callæ–¹æ³• è¯­æ³•ï¼š å‡½æ•°å.call(è°ƒç”¨è€…,å‡½æ•°å®å‚ï¼Œå‡½æ•°çš„å®å‚...); ä½œç”¨ï¼šè¯¥å‡½æ•°ä¼šç«‹å³æ‰§è¡Œï¼Œå‡½æ•°ä½“å†…çš„thisåœ¨è¢«callæ—¶ï¼ŒthisæŒ‡å‘è°ƒç”¨è€…ã€‚ ä»£ç ï¼š 12345678function Person(userName,age) &#123; console.log(this===obj); this.userName = userName; this.age = age; &#125; // éœ€æ±‚ï¼šé€šè¿‡ä¸€ç§æ–¹å¼è°ƒç”¨æ‰§è¡ŒPersonå‡½æ•°ï¼Œå¹¶ä¸”å‡½æ•°å†…éƒ¨thisä»£è¡¨obj var obj = &#123;&#125;; // new Object() Person.call(obj,'å¼ ä¸‰',10); //==&gt;Personä¸­çš„thisæŒ‡å‘obj 3.2 ä½¿ç”¨callå®ç°å€Ÿç”¨ç»§æ‰¿ å¦‚ä½•å®ç°ï¼š åœ¨å­ç±»ä¸­ï¼Œé€šè¿‡callè°ƒç”¨çˆ¶ç±»ï¼Œå¹¶æ›´æ”¹çˆ¶ç±»ä¸­thisçš„æŒ‡å‘å­ç±»å¯¹è±¡ã€‚ å›¾è§£ï¼š ä»£ç ï¼š 1234567891011121314151617181920212223242526// äººç±» â†’ çˆ¶ç±» function Person(name,age,gender) &#123; this.name = name; this.age = age; this.gender = gender; &#125; Person.prototype.sayHi = function () &#123; console.log('hello'); &#125;; Person.prototype.eat = function () &#123; console.log('eatã€‚ã€‚ã€‚'); &#125;; Person.prototype.play = function () &#123; console.log('play'); &#125;; // å­¦ç”Ÿç±» â†’ å­ç±» function Student(name,age,gender,stuId) &#123; // thiså…³é”®å­—ä»£è¡¨è°,ä»£è¡¨çš„æ˜¯ä¸€ä¸ªå­¦ç”Ÿå¯¹è±¡ï¼Œå½“å‰åˆ›å»ºçš„å¯¹è±¡ stu1 ,stu2 // var obj = this; //ã€å€Ÿç”¨ç»§æ‰¿ã€‘ // Person.call(obj,name,age,gender); Person.call(this,name,age,gender); this.stuId = stuId; &#125; // åˆ›å»ºç¬¬ä¸€ä¸ªå­¦ç”Ÿå¯¹è±¡ var stu1 = new Student('å¼ ä¸‰',15,'ç”·',1006); // åˆ›å»ºç¬¬äºŒä¸ªå­¦ç”Ÿå¯¹è±¡ var stu2 = new Student('æå››',16,'å¥³',1005); 3.3 åˆ©ç”¨applyå®ç°ç»§æ‰¿(åŒä¸Š) ä»£ç ï¼š 12345678910function person(name,age) &#123; this.name = name; this.age = age; &#125; function man(name,age)&#123; person.apply(this,[name,age]); //è¿™é‡Œå°±æ˜¯ä¼ªé€ æˆ person çš„ä¸€ä¸ªäº‹ä¾‹ &#125; var Man = new man('wozien',12); console.log(Man.name); console.log(Man.age); 4ã€ç»„åˆç»§æ‰¿ å¦‚ä½•å®ç°ï¼š åŸå‹ç»§æ‰¿å’Œå€Ÿç”¨ç»§æ‰¿åŒæ—¶ä½¿ç”¨ã€‚ ä»£ç ï¼š 123456789101112131415161718192021222324252627// äººç±» â†’ çˆ¶ç±»function Person(name,age,gender) &#123; this.name = name; this.age = age; this.gender = gender;&#125;Person.prototype.sayHi = function () &#123; console.log('hello'); &#125;;Person.prototype.eat = function () &#123; console.log('eat'); &#125;;Person.prototype.play = function () &#123; console.log('play'); &#125;; // å­¦ç”Ÿç±» â†’ å­ç±»function Student(name,age,gender,stuId) &#123; //ã€å€Ÿç”¨ç»§æ‰¿ã€‘ Person.call(this,name,age,gender); this.stuId = stuId;&#125; // ã€åŸå‹ç»§æ‰¿ã€‘Student.prototype = new Person();Student.prototype.constructor = Student; // åˆ›å»ºç¬¬ä¸€ä¸ªå­¦ç”Ÿå¯¹è±¡var stu1 = new Student('å¼ ä¸‰',16,'ç”·',1006);// åˆ›å»ºç¬¬äºŒä¸ªå­¦ç”Ÿå¯¹è±¡var stu2 = new Student('æå››',15,'å¥³',1005);","path":"2017/04/15/JSä¸­ç®€å•çš„å‡ ç§ç»§æ‰¿æ–¹æ³•/","date":"04-15","excerpt":"","tags":[{"name":"javascript","slug":"javascript","permalink":"http://diamond-sjh.github.io/tags/javascript/"}]},{"title":"åŸå‹","text":"1ã€äº†è§£å­¦ä¹ åŸå‹çš„ç›®çš„ é—®é¢˜ï¼šè‹¥ä¸ç”¨åŸå‹ï¼Œåˆ™ä¼šäº§ç”Ÿå†…å­˜æµªè´¹é—®é¢˜ã€‚ åŸå› ï¼šæ–¹æ³•æ”¾åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œæ¯æ¬¡newæ—¶ï¼Œéƒ½ä¼šå‘å¯¹è±¡ä¸­æ·»åŠ æ–¹æ³•ã€‚ è§£å†³æ–¹æ¡ˆï¼šæŠŠæ–¹æ³•æ”¾åˆ°åŸå‹ä¸­ï¼Œå°±å¯ä»¥è®©åŒç±»å‹çš„å¯¹è±¡å…±äº« ã€‚ 2ã€ä»€ä¹ˆæ˜¯åŸå‹ åŸå‹å°±æ˜¯ä¸€ä¸ªå¯¹è±¡(ç³»ç»Ÿä¸ºå‡½æ•°æ‰€åˆ†é…çš„ä¸€ä¸ªå¯¹è±¡)ï¼ŒåŸå‹ä¸€ç›´éƒ½åœ¨ã€‚ è·å–åŸå‹ï¼š è¯­æ³•ï¼š æ„é€ å‡½æ•°å.prototype 3ã€æ„é€ å‡½æ•°å’ŒåŸå‹çš„å…³ç³» ç†è®ºï¼š æ„é€ å‡½æ•°å¯ä»¥é€šè¿‡ prototype è·å–åˆ°åŸå‹ åŸå‹å¯ä»¥é€šè¿‡ constructor æ‰¾åˆ°æ„é€ å‡½æ•° å›¾è§£ï¼š ä»£ç ï¼š 12345678910111213141516// å­¦ç”Ÿç±»â†’ æ„é€ å‡½æ•° function Student(name,age,gender) &#123; // å±æ€§ this.name = name; this.age = age; this.gender = gender; &#125; // è·å–åŸå‹ // æ¯ä¸€ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„åŸå‹ var yx = Student.prototype; console.log(yx); // åŸå‹æ˜¯ä¸€ä¸ªå¯¹è±¡ // è‡ªå¸¦äº†ä¸€ä¸ªæˆå‘˜ï¼šconstructor â†’ æ„é€ å‡½æ•° console.log(yx.constructor === Student); 4ã€æ„é€ å‡½æ•°ã€å®ä¾‹å¯¹è±¡å’ŒåŸå‹çš„å…³ç³» å…³ç³»ï¼š æ„é€ å‡½æ•°å¯ä»¥é€šè¿‡prototypeè·å–åŸå‹ å®ä¾‹å¯¹è±¡å¯é€šè¿‡newå…³é”®å­—è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»º å®ä¾‹å¯¹è±¡åœ¨æŸ¥æ‰¾æ–¹æ³•æ—¶å¯ä»¥é€šè¿‡__proto__ è¿›å…¥åŸå‹ä¸­æŸ¥æ‰¾ ä¸€ä¸ªå¯¹è±¡è°ƒç”¨å±æ€§å’Œæ–¹æ³•çš„è¿‡ç¨‹ï¼š â‘  é¦–å…ˆï¼Œä¼šä»å¯¹è±¡æœ¬èº«ä¸­å»æ‰¾ â‘¡ è‹¥å¯¹è±¡ä¸­ï¼Œæ‰¾ä¸åˆ°ï¼Œåˆ™ä¼šé€šè¿‡__proto__æ‰€æä¾›çš„åŸå‹åœ°å€ï¼Œæ‰¾åŸå‹ â‘¢ å»åŸå‹ä¸­æŸ¥æ‰¾ã€‚ å‘åŸå‹ä¸­æ·»åŠ æ–¹æ³•ï¼š è¯­æ³•ï¼šåŸå‹.key =value; å®ä¾‹ï¼šjQyeryä¸­è‡ªå®šä¹‰æ’ä»¶ï¼› å›¾è§£ï¼š ä»£ç ï¼š 123456789101112131415161718192021222324252627282930// å­¦ç”Ÿç±»â†’ æ„é€ å‡½æ•°function Student(name, age, gender) &#123; // å±æ€§ this.name = name; this.age = age; this.gender = gender;&#125; // è·å–åŸå‹ ï¼Œæ¯ä¸€ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„åŸå‹var yx = Student.prototype; // å‘åŸå‹ä¸­æ·»åŠ æ–¹æ³•ï¼šå¯¹è±¡.key = value// æ–¹æ³•1yx.sayHi = function () &#123; // æ–¹æ³•å†…éƒ¨ï¼šthis ä»£è¡¨çš„æ˜¯è°ƒç”¨æ–¹æ³•çš„å¯¹è±¡ console.log('æˆ‘å«ä»€ä¹ˆ' + this.name)&#125;;// æ–¹æ³•2yx.writeCode = function () &#123; console.log('æˆ‘ä¼šå†™code');&#125;// å±æ€§yx.type = 'å­¦ç”Ÿ'; // åˆ›å»ºå¯¹è±¡var zs = new Student('å¼ ä¸‰', 10, 'ç”·');// åˆ›å»ºå¯¹è±¡var ls = new Student('æå››', 11, 'ç”·');// åˆ›å»ºå¯¹è±¡var ww = new Student('ç‹äº”', 17, 'å¥³'); 5ã€åŸå‹é“¾ æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå®ä¾‹å¯¹è±¡è®¿é—®ä¸€ä¸ªå±æ€§æˆ–æ–¹æ³•çš„å®Œæ•´è¿‡ç¨‹ ç†è®ºï¼š â‘  å¯¹è±¡ä¼šå…ˆä»æœ¬èº«æŸ¥æ‰¾ç›¸å…³çš„å±æ€§æˆ–æ–¹æ³• â‘¡ è‹¥å¯¹è±¡æœ¬èº«æŸ¥æ‰¾ä¸åˆ°ã€‚åˆ™ä¼šé€šè¿‡ç³»ç»Ÿç»™çš„__proto__è¿›å…¥åŸå‹ä¸­æŸ¥æ‰¾ â‘¢ è‹¥è¿˜æŸ¥æ‰¾ä¸åˆ°ï¼Œåˆ™é€šè¿‡åŸå‹ä¸­__proto_è¿›å…¥åˆ°åŸå‹çš„åŸå‹ä¸­æŸ¥æ‰¾ å›¾è§£ï¼š","path":"2017/03/27/åŸå‹/","date":"03-27","excerpt":"","tags":[{"name":"javascript","slug":"javascript","permalink":"http://diamond-sjh.github.io/tags/javascript/"}]},{"title":"JSä¸­çš„ç±»å’Œå¯¹è±¡,newå…³é”®å­—","text":"1ã€ä»€ä¹ˆæ˜¯ç±» ç”Ÿæ´»ä¸­ï¼šä¸€ç±»ã€ç§ç±» ç¼–ç¨‹ä¸­ï¼š ç±»æŒ‡çš„æ˜¯æŠ½è±¡çš„åç§°(æ„é€ å‡½æ•°)ï¼šä¾‹å¦‚ï¼Œç‹—ğŸ¶ classå…³é”®å­—ï¼ŒES6ä¹‹å‰æ²¡æœ‰ç±»çš„æ¦‚å¿µã€‚ åœ¨ES3æˆ–ES5ä¸­é€šè¿‡æ„é€ å‡½æ•° æ¥åˆ›å»ºå¯¹è±¡ æ„é€ å‡½æ•°ï¼š å†…ç½®çš„ï¼šObjectã€Dateã€Arrayç­‰ è‡ªå®šä¹‰ï¼šä¾‹å¦‚ï¼ŒDogâ€¦â€¦ 2ã€ä»€ä¹ˆæ˜¯å¯¹è±¡ ç”Ÿæ´»ä¸­ï¼šä¸‡ç‰©çš†å¯¹è±¡ã€‚ä»»ä½•å…·ä½“çš„äº‹å’Œç‰©éƒ½å¯ä»¥çœ‹æˆå¯¹è±¡ ç¼–ç¨‹ä¸­ï¼šå¯¹è±¡ç”±å±æ€§å’Œæ–¹æ³•ç»„æˆï¼ˆæˆ–ç”±é”®å€¼å¯¹ï¼‰ã€‚ å…·ä½“çš„å®ä¾‹ï¼Œå®ä¾‹å¯¹è±¡ å±æ€§ï¼šå¯¹è±¡çš„é™æ€ç‰¹å¾ï¼Œä¾‹å¦‚æŸäººçš„ï¼Œå§“åã€å¹´é¾„ã€èº«é«˜ã€æ€§åˆ«ç­‰ æ–¹æ³•ï¼šå¯¹è±¡çš„åŠŸèƒ½ç‰¹å¾ï¼Œä¾‹å¦‚æŸäººï¼Œç”»ç”»ã€å†™ä»£ç ç­‰ æ³¨æ„äº‹é¡¹ï¼š æ–¹æ³•çš„å€¼ç”¨ä»€ä¹ˆè¡¨ç¤ºï¼Œç”¨å‡½æ•°æ¥è¡¨ç¤º å¯¹è±¡æ–¹æ³•ä¸­çš„thisï¼ŒæŒ‡å‘è°ƒç”¨è€…ã€‚ 3ã€ç±»(æ„é€ å‡½æ•°)å’Œå¯¹è±¡çš„å…³ç³» ç±»æ˜¯å¯¹è±¡çš„æ¨¡æ¿ å¯¹è±¡æ˜¯ç±»çš„å…·ä½“å®ä¾‹ï¼ˆé€šè¿‡å…³é”®å­— instanceof æ£€æµ‹ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å±äºæŸä¸€ä¸ªç±»å‹ï¼‰ è¯­æ³•ï¼šå¯¹è±¡å instanceof æ„é€ å‡½æ•°å; è¿”å›å¸ƒå°”å€¼ åˆ›å»ºå¯¹è±¡å¾—é€šè¿‡ç±»ï¼ˆæ„é€ å‡½æ•°ï¼‰åˆ›å»º new æ„é€ å‡½æ•°() â†’ å…·ä½“çš„å®ä¾‹(å®ä¾‹å¯¹è±¡) 4ã€åˆ›å»ºå¯¹è±¡ è¯­æ³•ï¼šè‡ªå®šä¹‰æ„é€ å‡½æ•°ï¼ˆç±»ï¼‰ 12345function æ„é€ å‡½æ•°å(è¡Œå‚...)&#123; this.key = valueï¼› .......&#125;// æ³¨æ„è§„èŒƒï¼šæ„é€ å‡½æ•°åé¦–å­—æ¯è¦å¤§å†™ å¸•æ–¯å¡ï¼ˆæ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ï¼‰ é©¼å³°ï¼ˆä»ç¬¬äºŒä¸ªå•è¯å¼€å§‹é¦–å­—æ¯å¤§å†™ï¼‰ è¯­æ³•ï¼šnewå…³é”®å­—åˆ›å»ºå¯¹è±¡ 1var å¯¹è±¡å = new æ„é€ å‡½æ•°å(å®å‚...); 5ã€newå…³é”®å­—çš„æ‰§è¡Œè¿‡ç¨‹ æ„é€ å‡½æ•°åœ¨æ‰§è¡Œæ—¶ï¼Œå†…éƒ¨çš„thisæŒ‡å‘å½“å‰åˆ›å»ºçš„å¯¹è±¡ è¿‡ç¨‹ï¼š é¦–å…ˆä¼šå‘å†…å­˜ç”³è¯·ä¸€å—ç©ºé—´ï¼Œå­˜æ”¾å¯¹è±¡ã€‚ thiså…³é”®å­—ä¼šæŒ‡å‘å†…å­˜ä¸­å­˜æ”¾å¯¹è±¡çš„ç©ºé—´ã€‚ï¼ˆthisä»£è¡¨äº†å½“å‰åˆ›å»ºçš„å¯¹è±¡ï¼‰ é€šè¿‡thiså…³é”®å­—å‘å†…å­˜ä¸­çš„å¯¹è±¡ä¸­æ·»åŠ å±æ€§å’Œæ–¹æ³• ä¼šæŠŠthisè¿”å›ç»™å¤–éƒ¨æ¥æ”¶çš„å˜é‡ å›¾è§£ï¼š ä»£ç ï¼š 12345678910111213141516171819//æ„é€ å‡½æ•°function Student(name,age,gender) &#123; // å±æ€§ this.name = name; this.age = age; this.gender = gender; // æ–¹æ³• this.sayHi = function() &#123; // æ–¹æ³•å†…éƒ¨ï¼šthis ä»£è¡¨çš„æ˜¯è°ƒç”¨æ–¹æ³•çš„å¯¹è±¡ console.log('æˆ‘å«ä»€ä¹ˆ' + this.name) &#125;; this.writeCode = function() &#123; console.log('æˆ‘ä¼šå†™code'); &#125;&#125;// åˆ›å»ºå¯¹è±¡var zs = new Student('å¼ ä¸‰',10,'ç”·');// ä½¿ç”¨å¯¹è±¡zs.writeCode();","path":"2017/03/20/JSä¸­çš„ç±»å’Œå¯¹è±¡/","date":"03-20","excerpt":"","tags":[{"name":"javascript","slug":"javascript","permalink":"http://diamond-sjh.github.io/tags/javascript/"}]},{"title":"FormDataå¯¹è±¡","text":"H5æ–°å¢FormDataå¯¹è±¡FormDataæ˜¯h5ä¸­æ–°å¢çš„ä¸€ä¸ªå†…ç½®å¯¹è±¡ã€‚ FormDataå¯¹è±¡ç”¨ä»¥å°†æ•°æ®ç¼–è¯‘æˆé”®å€¼å¯¹ï¼Œä»¥ä¾¿ç”¨XMLHttpRequestæ¥å‘é€æ•°æ®ã€‚å…¶ä¸»è¦ç”¨äºå‘é€è¡¨å•æ•°æ®ï¼Œä½†äº¦å¯ç”¨äºå‘é€å¸¦é”®æ•°æ®(keyed data)ï¼Œè€Œç‹¬ç«‹äºè¡¨å•ä½¿ç”¨ã€‚ ä»¥å‰ AJAX æ“ä½œåªèƒ½æäº¤å­—ç¬¦ä¸²ï¼Œç°åœ¨å¯ä»¥æäº¤ äºŒè¿›åˆ¶ çš„æ•°æ® ä½¿ç”¨æ–¹æ³•ä¸€ï¼ˆæœ‰formè¡¨å•ï¼‰ 1234567891011121314151617181920212223242526272829303132&lt;form id=\"fm\"&gt; &lt;input type=\"text\" name=\"user\"&gt;&lt;br&gt; &lt;input type=\"password\" name=\"pwd\"&gt;&lt;br&gt; &lt;input type=\"radio\" name=\"sex\" value=\"ç”·\" checked&gt;ç”· &lt;input type=\"radio\" name=\"sex\" value=\"å¥³\"&gt;å¥³&lt;br&gt; &lt;input type=\"file\" name=\"pic\"&gt;&lt;br/&gt; &lt;input type=\"button\" id=\"btn\" value=\"æäº¤\"&gt;&lt;/form&gt;&lt;script&gt; // å½“ç‚¹å‡»æäº¤æŒ‰é’®çš„æ—¶å€™ï¼Œè·å–è¡¨å•å„é¡¹çš„å€¼ï¼Œç„¶åå°†ä»–ä»¬å‘é€ç»™æœåŠ¡å™¨ document.getElementById('btn').onclick = function () &#123; // è·å–è¡¨å•å„é¡¹çš„å€¼ /* var user = document.getElementsByName('user')[0].value; var pwd = document.getElementsByName('pwd')[0].value; */ // ä½¿ç”¨FormDataæ¥æ”¶é›†è¡¨å•æ•°æ® // 1. æœ‰è¡¨å•ï¼Œæ‰¾åˆ°è¡¨å• var form = document.getElementById('fm'); // 2. å®ä¾‹åŒ–FormDataï¼Œå°†è¡¨å•DOMå¯¹è±¡ä¼ é€’ç»™FormData var fd = new FormData(form); // fdå¯¹è±¡ï¼Œé‡Œé¢åŒ…å«äº†è¡¨å•ä¸­æ‰€æœ‰çš„å€¼ // æŠŠfdå‘é€ç»™æœåŠ¡å™¨å³å¯ var xhr = new XMLHttpRequest(); xhr.open('POST', '/fd'); // fdæ¥å£ä¸“é—¨ç”¨äºå¤„ç†FormDataç±»å‹çš„æ•°æ®çš„ // xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded'); xhr.responseType = 'json'; xhr.send(fd); xhr.onload = function () &#123; console.log(this.response); &#125; &#125;&lt;/script&gt; ==ä¸Šè¿°ä½¿ç”¨FormDataçš„æ—¶å€™ï¼Œformè¡¨å•ä¸­çš„å„é¡¹å¿…é¡»æœ‰nameå±æ€§ã€‚æ²¡æœ‰nameå±æ€§æ˜¯æ”¶é›†ä¸åˆ°æ•°æ®çš„== ä½¿ç”¨æ–¹æ³•äºŒï¼ˆæ²¡æœ‰formè¡¨å•ï¼‰ 123456789101112131415161718192021222324252627282930&lt;input type=&quot;text&quot; id=&quot;user&quot;&gt;&lt;br&gt;&lt;input type=&quot;password&quot; id=&quot;pwd&quot;&gt;&lt;br&gt;&lt;input type=&quot;file&quot; id=&quot;pic&quot;&gt;&lt;br/&gt;&lt;input type=&quot;button&quot; id=&quot;btn&quot; value=&quot;æäº¤&quot;&gt;&lt;script&gt; // ç‚¹å‡»æäº¤æŒ‰é’®çš„æ—¶å€™ï¼Œæ”¶é›†è¡¨å•å„é¡¹çš„æ•°æ®ï¼Œç„¶åå°†ä»–ä»¬å‘é€ç»™fdæ¥å£ document.getElementById(&apos;btn&apos;).onclick = function () &#123; // 1. æ²¡æœ‰formï¼Œåªèƒ½å…ˆå®ä¾‹åŒ–FormData var fd = new FormData(); // 2. è°ƒç”¨fdæä¾›çš„appendæ–¹æ³•ï¼Œå‘fdå¯¹è±¡ä¸­ï¼Œæ·»åŠ å€¼ // fd.append(&apos;key&apos;, &apos;value&apos;); fd.append(&apos;username&apos;, document.getElementById(&apos;user&apos;).value); fd.append(&apos;pwd&apos;, document.getElementById(&apos;pwd&apos;).value); // å¦‚æœæ˜¯æ–‡ä»¶çš„è¯ï¼Œvalueå€¼å¿…é¡»ä½¿ç”¨æ–‡ä»¶å¯¹è±¡ // è·å–æ–‡ä»¶å¯¹è±¡ // console.dir(document.getElementById(&apos;pic&apos;)); var fileObj = document.getElementById(&apos;pic&apos;).files[0]; // fd.append(&apos;myfile&apos;, æ–‡ä»¶å¯¹è±¡); fd.append(&apos;myfile&apos;, fileObj); var xhr = new XMLHttpRequest(); xhr.open(&apos;POST&apos;, &apos;/fd&apos;); xhr.responseType = &apos;json&apos;; xhr.send(fd); xhr.onload = function () &#123; console.log(this.response); &#125; &#125;&lt;/script&gt; jQueryä¸­ä½¿ç”¨FormDataï¼š 123456789101112131415161718192021222324252627282930313233343536373839&lt;form id=\"fm\"&gt; &lt;input type=\"text\" name=\"user\"&gt;&lt;br&gt; &lt;input type=\"password\" name=\"pwd\"&gt;&lt;br&gt; &lt;input type=\"radio\" name=\"sex\" value=\"ç”·\" checked&gt;ç”· &lt;input type=\"radio\" name=\"sex\" value=\"å¥³\"&gt;å¥³&lt;br&gt; &lt;input type=\"file\" name=\"pic\"&gt;&lt;br /&gt; &lt;input type=\"button\" id=\"btn\" value=\"æäº¤\"&gt; &lt;/form&gt; &lt;script src=\"/jquery.js\"&gt;&lt;/script&gt; &lt;script&gt; $('#btn').click(function () &#123; var fm = $('#fm'); var fd = new FormData(fm[0]); // è¿™é‡Œfmå¿…é¡»æ˜¯DOMå¯¹è±¡ console.log(fd); $.ajax(&#123; type: 'post', url: '/fd', // å¦‚æœdataä½¿ç”¨çš„æ˜¯å¯¹è±¡ï¼Œajaxæ–¹æ³•ä¼šæŠŠå¯¹è±¡è½¬æˆå­—ç¬¦ä¸²ï¼Œ // å³æŠŠ&#123;name: 'zs', age: 18&#125;è½¬æˆname=zs&amp;age=18 // data: &#123;name: 'zs', age: 18&#125;, data: fd, // processData: false, è¡¨ç¤ºä¸è®©jQueryæŠŠfdå¯¹è±¡è½¬æˆå­—ç¬¦ä¸²ï¼Œè€Œæ˜¯ç›´æ¥å‘é€fdå¯¹è±¡ processData: false, // contentTypeï¼šfalseï¼Œè¡¨ç¤ºä¸è®©jQueryå»è®¾ç½®content-typeï¼Œè®©FormDataå»å¤„ç† contentType: false, success: function (res) &#123; console.log(res); &#125; &#125;); &#125;); // xhr.send('name=zs&amp;age=18'); &lt;/script&gt; å‚è€ƒé“¾æ¥ï¼š https://developer.mozilla.org/zh-CN/docs/Web/API/FormData/Using_FormData_Objects","path":"2017/01/28/FormDataå¯¹è±¡/","date":"01-28","excerpt":"","tags":[{"name":"H5","slug":"H5","permalink":"http://diamond-sjh.github.io/tags/H5/"}]},{"title":"æ­£åˆ™è¡¨è¾¾å¼","text":"1ã€æ­£åˆ™è¡¨è¾¾å¼ ç‰¹ç‚¹ï¼š çµæ´»æ€§ã€é€»è¾‘æ€§å’ŒåŠŸèƒ½æ€§éå¸¸çš„å¼º å¯ä»¥è¿…é€Ÿåœ°ç”¨æç®€å•çš„æ–¹å¼è¾¾åˆ°å­—ç¬¦ä¸²çš„å¤æ‚æ§åˆ¶ ç‰¹ç‚¹ï¼š ç»™å®šçš„å­—ç¬¦ä¸²æ˜¯å¦ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼çš„è¿‡æ»¤é€»è¾‘(åŒ¹é…) å¯ä»¥é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼ï¼Œä»å­—ç¬¦ä¸²ä¸­è·å–æˆ‘ä»¬æƒ³è¦çš„ç‰¹å®šéƒ¨åˆ†(æå–) å¼ºå¤§çš„å­—ç¬¦ä¸²æ›¿æ¢èƒ½åŠ›(æ›¿æ¢) 1.1 ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼â€‹ æ­£åˆ™è¡¨è¾¾å¼Regular Expressionï¼šæ­£åˆ™è¡¨è¾¾å¼æ˜¯å¯¹å­—ç¬¦ä¸²æ“ä½œçš„ä¸€ç§é€»è¾‘å…¬å¼ï¼Œå°±æ˜¯ç”¨äº‹å…ˆå®šä¹‰å¥½çš„ä¸€äº›ç‰¹å®šå­—ç¬¦ã€åŠè¿™äº›ç‰¹å®šå­—ç¬¦çš„ç»„åˆï¼Œç»„æˆä¸€ä¸ªâ€œè§„åˆ™å­—ç¬¦ä¸²â€ï¼Œè¿™ä¸ªâ€œè§„åˆ™å­—ç¬¦ä¸²â€ç”¨æ¥è¡¨è¾¾å¯¹å­—ç¬¦ä¸²çš„ä¸€ç§è¿‡æ»¤é€»è¾‘ã€‚ â€‹ æ­£åˆ™è¡¨è¾¾å¼åœ¨å…¶ä»–è¯­è¨€ä¸­ä¹Ÿå¹¿æ³›åº”ç”¨ã€‚ æ­£åˆ™è¡¨è¾¾å¼ï¼Œå°±æ˜¯å®šä¹‰å¥½ä¸€ä¸ªå­—ç¬¦ä¸²è§„åˆ™ ï¼Œç„¶åæ ¹æ®è§„åˆ™å®ç°å¯¹è±¡å­—ç¬¦ä¸²çš„åŒ¹é…ã€æå–ã€æ›¿æ¢ç­‰ 1.2 æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•1.2.1 æ­£åˆ™è¡¨è¾¾å¼çš„ç»„æˆ æ™®é€šå­—ç¬¦abc 123 æˆ‘çˆ±ä½  ç‰¹æ®Šå­—ç¬¦(å…ƒå­—ç¬¦ã€é™å®šç¬¦ã€ä¸­æ‹¬å·)ï¼šæ­£åˆ™è¡¨è¾¾å¼ä¸­æœ‰ç‰¹æ®Šæ„ä¹‰çš„å­—ç¬¦ 1.2.2 å…ƒå­—ç¬¦â€‹ å…ƒå­—ç¬¦å°±æ˜¯ï¼Œåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å…·æœ‰ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦ã€‚ å…ƒå­—ç¬¦ è¯´æ˜ \\d åŒ¹é…æ•°å­— \\D åŒ¹é…éæ•°å­— \\w åŒ¹é…å­—æ¯æˆ–æ•°å­—æˆ–ä¸‹åˆ’çº¿_ \\W åŒ¹é…éå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿_ \\s åŒ¹é…ç©ºç™½ç¬¦ï¼ˆç©ºæ ¼ï¼‰ \\S åŒ¹é…éç©ºç™½ç¬¦ . åŒ¹é…ä»»æ„é™¤äº†å›è½¦æ¢è¡Œç¬¦ä¹‹å¤–çš„å•ä¸ªå­—ç¬¦ 1.2.3 é™å®šç¬¦æ§åˆ¶å­—ç¬¦å‡ºç°çš„ä¸ªæ•°ã€‚ é™å®šç¬¦ è¯´æ˜ n* åŒ¹é…ä»»ä½•åŒ…å«é›¶ä¸ªæˆ–å¤šä¸ª n çš„å­—ç¬¦ä¸²ã€‚n{0,}ã€‚ è‹¥æ‰¾åˆ°æœ€åï¼Œå­—ç¬¦ä¸²åé¢æ²¡æœ‰ä»»ä½•ä¸œè¥¿ä¹Ÿç®—ç¬¦åˆã€‚ è‹¥æœ‰ç¬¦åˆæ­£åˆ™å€¼ï¼ŒæŒ‰ç…§æœ€å¤šçš„åŒ¹é…ã€‚ n+ åŒ¹é…ä»»ä½•åŒ…å«è‡³å°‘ä¸€ä¸ª n çš„å­—ç¬¦ä¸²ã€‚{1,} ã€‚ n? åŒ¹é…ä»»ä½•åŒ…å«é›¶ä¸ªæˆ–ä¸€ä¸ª n çš„å­—ç¬¦ä¸²ã€‚{0,1} è‹¥æ‰¾åˆ°æœ€åï¼Œå­—ç¬¦ä¸²åé¢æ²¡æœ‰ä»»ä½•ä¸œè¥¿ä¹Ÿç®—ç¬¦åˆã€‚è‹¥æœ‰ç¬¦åˆæ­£åˆ™å€¼ï¼ŒæŒ‰ç…§1ä¸ªåŒ¹é… n{x} åŒ¹é…åŒ…å« x ä¸ª n çš„åºåˆ—çš„å­—ç¬¦ä¸² n{x,} åŒ¹é…åŒ…å«è‡³å°‘ x ä¸ª n çš„åºåˆ—çš„å­—ç¬¦ä¸²ã€‚ n{x,y} åŒ¹é…åŒ…å« è‡³å°‘xä¸ª è‡³å¤š y ä¸ª n çš„åºåˆ—çš„å­—ç¬¦ä¸²ã€‚ n$ åŒ¹é…ä»»ä½•ç»“å°¾ä¸º n çš„å­—ç¬¦ä¸² ^n åŒ¹é…ä»»ä½•å¼€å¤´ä¸º n çš„å­—ç¬¦ä¸² æ³¨æ„ï¼š ==^æ­£åˆ™è¡¨è¾¾å¼$== ä½¿ç”¨æ—¶ï¼Œä¼šå¯¹å­—ç¬¦ä¸²æ•´ä½“æ ¡éªŒï¼Œå®Œå…¨ç¬¦åˆæ‰èƒ½å¤ŸåŒ¹é…ã€‚å¦åˆ™ï¼Œä¸åŒ¹é…ã€‚ åœ¨ä½¿ç”¨èŠ±æ‹¬å·é™åˆ¶å­—ç¬¦ä¸ªæ•°æ—¶ï¼Œå°†æ¥åœ¨å»åŒ¹é…æ—¶ï¼Œé¦–å…ˆä»å‰å‘ååŒ¹é…ï¼Œå…ˆæŒ‰ç…§è‡³å¤šçš„è¦æ±‚åŒ¹é…ï¼Œè‡³å¤šä¸æ»¡è¶³æ—¶ï¼Œå†é™ä½è¦æ±‚åŒ¹é…ï¼Œè‹¥å°†è‡³æœ€å°‘æ—¶è¿˜ä¸åŒ¹é…â†’ æœ€ç»ˆæ˜¯ä¸åŒ¹é…ã€‚ å…³äºæ¬¡æ•°è‡³å°‘æ˜¯0æ—¶ï¼Œè¡¨ç¤ºçš„æœ‰æ²¡æœ‰éƒ½ç¬¦åˆã€‚ æ²¡æœ‰ç¬¦åˆï¼Œå†…å®¹ä¸æ˜¯ä¹Ÿç¬¦åˆ 1.2.4 ä¸­æ‹¬å·ä¸€ä¸ªä¸­æ‹¬å·å°±ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ï¼Œä¸­æ‹¬å·çš„ç›®çš„å°±æ˜¯æ§åˆ¶äº†ä¸€ä¸ªå­—ç¬¦çš„èŒƒå›´ã€‚ å¯¹è±¡å­—ç¬¦ç§ç±»é™åˆ¶ ä¸­æ‹¬å· è¯´æ˜ [abc] æŸ¥æ‰¾ä¸€ä¸ªæ–¹æ‹¬å·ä¹‹é—´çš„ä»»ä½•å­—ç¬¦ã€‚ [ ^abc] æŸ¥æ‰¾ä¸€ä¸ªä»»ä½•ä¸åœ¨æ–¹æ‹¬å·ä¹‹é—´çš„å­—ç¬¦ã€‚^åœ¨ä¸­æ‹¬å·ä¸­æœ‰å–åçš„æ„æ€ [0-9] æŸ¥æ‰¾ä¸€ä¸ªä»»ä½•ä» 0 è‡³ 9 çš„æ•°å­—ã€‚ [a-z] æŸ¥æ‰¾ä¸€ä¸ªä»»ä½•ä»å°å†™ a åˆ°å°å†™ z çš„å­—ç¬¦ã€‚ [A-Z] æŸ¥æ‰¾ä¸€ä¸ªä»»ä½•ä»å¤§å†™ A åˆ°å¤§å†™ Z çš„å­—ç¬¦ã€‚ [A-z] æŸ¥æ‰¾ä¸€ä¸ªå­—æ¯ï¼ˆåŒ…å«å¤§å°å†™å’Œä¸‹åˆ’çº¿ï¼‰ [\\u4e00-\\u9fa5] æŸ¥æ‰¾ä¸€ä¸ªæ±‰å­— â€‹ åœ¨åŒ¹é…æ—¶ï¼Œä»å‰å‘åæŒ‰ç…§ã€è§„åˆ™ã€‘å»æ‰¾ï¼Œè‹¥æ˜¯å…¨å±€åŒ¹é…ï¼Œå‰é¢è‹¥æœ‰æ»¡è¶³é¡¹æ—¶ï¼Œåé¢å†åŒ¹é…æ—¶ï¼Œä»æ»¡è¶³é¡¹ä¸‹ä¸€ä¸ªå¼€å§‹åŒ¹é…ã€‚ 1.2.5 æˆ–æ¨¡å¼ç‰¹æ®Šç¬¦å·ï¼šæ­£åˆ™1|æ­£åˆ™2, æˆ–è€…ã€‚ ç¬¦åˆæˆ–ä¸¤è¾¹å…¶ä¸­ä¸€ä¸ªå°±å¯ä»¥åŒ¹é…ã€‚ å¦‚ï¼šgoogleï¼Œbaiduï¼Œbing; // åŒ¹é…ä¸‰ç§å…¶ä¸­ä¸€ç§å­—ç¬¦ä¸² æ­£åˆ™ï¼šgoogle|baidu|bing 1.2.6 åˆ†ç»„æ¨¡å¼ç‰¹æ®Šç¬¦å·ï¼š(æ­£åˆ™); ç»„æŒ‡çš„æ˜¯ä¸€ä¸ªå°é›†ä½“ï¼Œåˆ†ç»„å°±æ˜¯å°†ä¸€ä¸ªå¤§é›†ä½“å¯ä»¥åˆ†æˆå‡ ä¸ªå°é›†ä½“ã€‚ å¦‚ï¼šæ§åˆ¶bruceè¿ç»­å‡ºç°çš„æ¬¡æ•°ï¼Œæœ€å°‘1æ¬¡ï¼Œæœ€å¤š3æ¬¡ æ­£åˆ™ï¼š^(bruce){1,3}$ 1.2.7 ä¿®é¥°ç¬¦â†’ g gï¼Œå…¨ç§°globalï¼Œæœ‰ å…¨å±€ çš„æ„æ€ï¼Œè¡¨ç¤ºå…¨å±€åŒ¹é…ã€‚ å¦‚ï¼š var reg = /hello/g;â†’ i iï¼Œå…¨ç§°ignoreï¼Œæœ‰ å¿½è§†ã€å¿½ç•¥ çš„æ„æ€ï¼Œè¡¨ç¤ºåŒ¹é…å­—æ¯æ—¶ï¼Œå¯ä»¥å¿½ç•¥å­—æ¯çš„å¤§å°å†™ã€‚â€‹ å¦‚ï¼š var reg = /hello/i; â†’ gi ig giï¼Œå…¨å±€åŒ¹é…å’Œå¿½ç•¥å¤§å°å†™ä¸€èµ·ä½¿ç”¨ã€‚ å¦‚ï¼š var reg = /hello/gi; 1.2.8 æ­£åˆ™è½¬ä¹‰ç¬¦â€œ.â€åœ¨æ­£åˆ™ä¸­è¡¨ç¤ºç‰¹æ®Šç¬¦å·ã€‚å»é™¤.çš„ç‰¹æ®Šæ„ä¹‰ï¼Œéœ€è¦è½¬ä¹‰ï¼š \\ . 1.3 jsä¸­ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼1.3.1 æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ æ–¹å¼1ï¼š è¯­æ³•ï¼švar å˜é‡ = new RegExp(â€œè§„åˆ™â€,â€ä¿®é¥°ç¬¦â€); ä»£ç ï¼š 1var reg = new RegExp('\\\\d','g'); æ–¹å¼2ï¼šå­—é¢é‡æˆ–ç›´æ¥é‡ è¯­æ³•ï¼švar å˜é‡ = /æ­£åˆ™è¡¨è¾¾å¼/; ä»£ç ï¼š 1var reg = /\\d/g; æ£€æµ‹åŒ¹é… æ­£åˆ™å¯¹è±¡.test(å­—ç¬¦ä¸²) ; ç”¨äºæ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…æŸä¸ªè§„åˆ™ã€‚è¿”å›trueå’Œfalseã€‚ 1.3.2 å­—ç¬¦ä¸²å¯¹è±¡æ–¹æ³•ç›¸å…³æ­£åˆ™ä½¿ç”¨ å­—ç¬¦ä¸².match(æ­£åˆ™å¯¹è±¡); æå–æ‰€æœ‰åŒ¹é…çš„å†…å®¹è·å–åŒ¹é…æ­£åˆ™çš„å­å­—ç¬¦ä¸²ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ã€‚ å­—ç¬¦ä¸².replace(æ­£åˆ™å¯¹è±¡,æ›¿æ¢åçš„å†…å®¹);â€‹ æ›¿æ¢æ‰€åŒ¹é…æ­£åˆ™çš„å­å­—ç¬¦ä¸²ã€‚è¿”å›æ›¿æ¢åçš„å­—ç¬¦ä¸²ã€‚","path":"2016/12/28/æ­£åˆ™è¡¨è¾¾å¼/","date":"12-28","excerpt":"","tags":[{"name":"æ­£åˆ™è¡¨è¾¾å¼","slug":"æ­£åˆ™è¡¨è¾¾å¼","permalink":"http://diamond-sjh.github.io/tags/æ­£åˆ™è¡¨è¾¾å¼/"}]},{"title":"gitçš„pushç«¯å£é”™è¯¯è§£å†³","text":"å‡ºç°çš„é—®é¢˜ï¼šGit Bash æ§åˆ¶è¡Œå‘½ä»¤ï¼š git push å‘è¿œç¨‹gitä»“åº“sshåœ°å€æ¨é€çš„æ—¶å€™ï¼Œå‘½ä»¤è¡Œæç¤ºConnection reset by 52.74.223.119 port 22ï¼Œè€Œgit push å‘è¿œç¨‹gitä»“åº“httpåœ°å€æ¨é€çš„æ—¶å€™æ­£å¸¸æ¨é€ é—®é¢˜å¦‚å›¾æ‰€ç¤ºï¼š è§£å†³çš„æ–¹æ³•ï¼šåœ¨windowé˜²ç«å¢™è®¾ç½®22ç«¯å£1ã€window10å®‰å…¨ä¸­å¿ƒâ€“&gt;é«˜çº§è®¾ç½® 2ã€å…¥ç«™è§„åˆ™â€“&gt;æ–°å»ºè§„åˆ™ 3ã€é€‰æ‹©ç«¯å£ 4ã€ç«¯å£è¾“å…¥22 5ã€é€‰æ‹©å…è®¸è¿æ¥ 6ã€ä¸‹ä¸€æ­¥ 7ã€æ·»åŠ åç§°å’Œæè¿°ï¼ˆéšæ„å¡«å†™ï¼‰","path":"2016/11/20/gitçš„pushç«¯å£é”™è¯¯è§£å†³/","date":"11-20","excerpt":"","tags":[{"name":"git","slug":"git","permalink":"http://diamond-sjh.github.io/tags/git/"}]},{"title":"gitåŸºç¡€","text":"1ã€gitå’Œgithubæ˜¯ä»€ä¹ˆï¼Ÿgitæ˜¯ä¸€ä¸ªå·¥å…·ï¼ˆè½¯ä»¶ï¼‰ï¼Œgithubæ˜¯ä¸€ä¸ªä»£ç æ‰˜ç®¡å¹³å°ï¼Œç±»ä¼¼çš„è¿˜æœ‰ç äº‘ ä½œç”¨ï¼šæˆ‘ä»¬å¯ä»¥åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šé€šè¿‡gitè¿™ä¸ªè½¯ä»¶ä»githubä¸Šä¸‹è½½ï¼ˆæ‹‰å–ï¼‰ä»£ç ï¼Œä¹Ÿå¯ä»¥å°†æˆ‘ä»¬æœ¬åœ°ç”µè„‘ä¸Šçš„ä»£ç ä¸Šä¼ åˆ°githubä¸Šã€‚ 2ã€githubè´¦å·çš„æ³¨å†Œï¼š1.æ‰“å¼€githubå®˜ç½‘ï¼šhttps://github.com 2.å¡«å…¥è‡ªå·±çš„ä¿¡æ¯ï¼Œå®Œæˆæ³¨å†Œä¹‹åï¼Œç™»å½•(Sign in)ä¸Šå°±okäº†ã€‚ 3ã€gitçš„å®‰è£…ï¼š1ã€æ ¹æ®è‡ªå·±ç”µè„‘æƒ…å†µï¼Œé€‰æ‹©åº”è¯¥å®‰è£…çš„è½¯ä»¶ã€‚ 2ã€ä¸‹è½½åœ°å€ï¼šhttps://git-scm.com/downloads 3ã€ä¸€è·¯nextå®‰è£…å³å¯ã€‚ 4ã€åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ Git æ˜¯å¦å®‰è£…æˆåŠŸã€‚ 123$ git --version# å¦‚æœçœ‹åˆ°ç±»ä¼¼ git version 2.21.0.windows.1 ï¼Œè¡¨ç¤ºå®‰è£…æˆåŠŸäº† 5ã€å®‰è£…å®Œæˆä¹‹åï¼Œåœ¨ç”µè„‘ä»»ä½•ä¸€ä¸ªä½ç½®ï¼Œç‚¹å‡»é¼ æ ‡å³é”®ï¼Œä¼šå¤šäº†ä¸¤ä¸ªé€‰é¡¹ï¼š â€‹ â€“ Git GUI Here â€‹ â€“ Git Bash Here Git GUI Here çš„ä½œç”¨æ˜¯ï¼Œåœ¨æ­¤åˆ›å»ºä¸€ä¸ªå¯è§†åŒ–çš„gitçª—å£ï¼Œç”¨æ¥ä¸Šä¼ æˆ–æ‹‰å–ä»£ç æˆ–å…¶ä»–æ“ä½œ Git Bash Here çš„ä½œç”¨æ˜¯ï¼Œåœ¨æ­¤åˆ›å»ºä¸€ä¸ªgitå‘½ä»¤è¡Œçª—å£ï¼Œç”¨æ¥ä¸Šä¼ æˆ–æ‹‰å–ä»£ç æˆ–å…¶ä»–æ“ä½œ 6ã€æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„æ˜¯Git Bash Here è¿™ä¸ªå‘½ä»¤è¡Œçª—å£ï¼Œåœ¨é‡Œé¢è¾“å…¥ä¸€äº›å‘½ä»¤å°±å¯ä»¥è¿›è¡Œæ“ä½œã€‚ 4ã€ä½¿ç”¨Gitç®¡ç†è‡ªå·±çš„ä»£ç  åˆæ¬¡ä½¿ç”¨Gitï¼Œä¼šè®©æˆ‘ä»¬é…ç½®ç”¨æˆ·çš„ä¿¡æ¯ï¼Œé…ç½®æ–¹å¼å¦‚ä¸‹ï¼š 123# --global ä¼šå°†é…ç½®é¡¹ä¿å­˜åˆ°ç”¨æˆ·é…ç½®$ git config --global user.name \"xxx\"$ git config --global user.email \"xxx\" 4.1 gitåè¯è§£è¯»ï¼šWorkspace : å·¥ä½œåŒº å·¥ä½œç›®å½•æ˜¯å¯¹é¡¹ç›®çš„æŸä¸ªç‰ˆæœ¬ç‹¬ç«‹æå–å‡ºæ¥çš„å†…å®¹ã€‚ è¿™äº›ä» Git ä»“åº“çš„å‹ç¼©æ•°æ®åº“ä¸­æå–å‡ºæ¥çš„æ–‡ä»¶ï¼Œæ”¾åœ¨ç£ç›˜ä¸Šä¾›ä½ ä½¿ç”¨æˆ–ä¿®æ”¹ã€‚ Index / Stage : æš‚å­˜åŒº æš‚å­˜åŒºåŸŸæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä¿å­˜äº†ä¸‹æ¬¡å°†æäº¤çš„æ–‡ä»¶åˆ—è¡¨ä¿¡æ¯ï¼Œä¸€èˆ¬åœ¨ Git ä»“åº“ç›®å½•ä¸­ã€‚ æœ‰æ—¶å€™ä¹Ÿè¢«ç§°ä½œ`â€˜ç´¢å¼•â€™â€™ï¼Œä¸è¿‡ä¸€èˆ¬è¯´æ³•è¿˜æ˜¯å«æš‚å­˜åŒºåŸŸã€‚ Repository ï¼š ä»“åº“åŒºï¼ˆæœ¬åœ°ä»“åº“ï¼‰ Git ä»“åº“ç›®å½•æ˜¯ Git ç”¨æ¥ä¿å­˜é¡¹ç›®çš„å…ƒæ•°æ®å’Œå¯¹è±¡æ•°æ®åº“çš„åœ°æ–¹ã€‚ è¿™æ˜¯ Git ä¸­æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œä»å…¶å®ƒè®¡ç®—æœºå…‹éš†ä»“åº“æ—¶ï¼Œæ‹·è´çš„å°±æ˜¯è¿™é‡Œçš„æ•°æ®ã€‚ Remote ï¼š è¿œç¨‹ä»“åº“ å·¥ä½œåŒºæ–°å»ºçš„æ–‡ä»¶å’ŒGitæ²¡æœ‰ä»»ä½•å…³ç³»ï¼›æ–‡ä»¶è¢«æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œæ‰å«åšè¢«Gitç®¡ç†è¿‡ ä»£ç ä¸èƒ½è¶Šè¿‡æš‚å­˜åŒºè€Œç›´æ¥ä»å·¥ä½œåŒºæäº¤åˆ°ä»“åº“åŒº Untracked filesï¼šæœªè·Ÿè¸ª è¡¨ç¤ºè¿˜æ²¡æœ‰è¢« Git ç®¡ç†è¿‡ï¼Œæ—¢æ²¡æœ‰è¿›å…¥è¿‡æš‚å­˜åŒºï¼Œæ›´æ²¡æœ‰è¿›å…¥è¿‡ä»“åº“åŒºã€‚ stagedï¼šå·²æš‚å­˜ è¡¨ç¤ºå¯¹ä¸€ä¸ªå·²ä¿®æ”¹æ–‡ä»¶çš„å½“å‰ç‰ˆæœ¬åšäº†æ ‡è®°ï¼Œä½¿ä¹‹åŒ…å«åœ¨ä¸‹æ¬¡æäº¤çš„å¿«ç…§ä¸­ committedï¼šå·²æäº¤ è¡¨ç¤ºæ•°æ®å·²ç»å®‰å…¨çš„ä¿å­˜åœ¨æœ¬åœ°æ•°æ®åº“ä¸­ã€‚ modifiedï¼šå·²ä¿®æ”¹ è¡¨ç¤ºä¿®æ”¹äº†æš‚å­˜åŒºçš„æ–‡ä»¶ï¼Œä½†è¿˜æ²¡æäº¤åˆ°ä»“åº“åŒºã€‚ 4.2 gitå¸¸ç”¨å‘½ä»¤ï¼šgit clone ä»“åº“åœ°å€ â€” ç”¨æ¥ä»è¿œç¨‹ä»“åº“ï¼ˆgithubï¼‰ä¸Šå…‹éš†é¡¹ç›® git init â€”- åˆå§‹åŒ–ï¼ˆæ–°å»ºä»“åº“åŒºï¼ˆæœ¬åœ°ä»“åº“ï¼‰ï¼‰ï¼Œåœ¨æœ¬åœ°ç”µè„‘çš„ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­æ‰§è¡Œæ­¤å‘½ä»¤ï¼Œä¼šç”Ÿæˆä¸€ä¸ªå«.gitçš„éšè—æ–‡ä»¶å¤¹ git pull ä»“åº“åœ°å€ â€”â€“ ç”¨æ¥ä»è¿œç¨‹ä»“åº“ä¸­ä¸‹è½½ä»£ç  å’Œcloneå¾ˆç›¸ä¼¼ git add . â€”â€“ å°†æœ¬åœ°é¡¹ç›®ä¸­æ–°å¢ã€ä¿®æ”¹çš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºä¸­ï¼Œæ³¨æ„ï¼Œåé¢æ˜¯ä¸ªè‹±æ–‡çŠ¶æ€ä¸‹çš„ç‚¹ç¬¦å· git commit -m â€˜æè¿°â€™ â€”â€” æäº¤æš‚å­˜åŒºçš„ä»£ç åˆ°ä»“åº“åŒºï¼ˆæœ¬åœ°ä»“åº“ï¼‰ï¼Œå¹¶æ·»åŠ å°†è¦æäº¤çš„æè¿° git push ä»“åº“åœ°å€ â€”â€“ å°†æš‚å­˜åŒºçš„ä»£ç ä¸Šä¼ åˆ°è¿œç¨‹ä»“åº“ï¼ˆgithubï¼‰ä¸­ 4.3 è¿›é˜¶å‘½ä»¤ï¼šçŠ¶æ€æ“ä½œï¼šgitk â€”- æŸ¥çœ‹çŠ¶æ€ git status â€”- æ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶ git log â€”- æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„ç‰ˆæœ¬å†å² git log â€“oneline â€”- ç®€ç•¥æŸ¥çœ‹å†å²ç‰ˆæœ¬ åˆ†æ”¯æ“ä½œï¼šgit branch â€”- æŸ¥çœ‹å½“å‰åˆ†æ”¯ ï¼ˆé»˜è®¤æ˜¯masteråˆ†æ”¯ â€“ ä¸»åˆ†æ”¯ï¼‰ git branch åˆ†æ”¯å â€”â€“ åˆ›å»ºä¸€ä¸ªåˆ†æ”¯ï¼ˆæ³¨æ„ï¼šç›®å‰æˆ‘ä»¬åˆ›å»ºåˆ†æ”¯ï¼Œå¿…é¡»åœ¨masteråˆ†æ”¯ä¸Šå»åˆ›å»ºï¼‰ git checkout åˆ†æ”¯å â€”- åˆ‡æ¢åˆ†æ”¯ git checkout -b åˆ†æ”¯å â€”- åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯ git merge åˆ†æ”¯å â€”- å°†ä½ æƒ³è¦åˆå¹¶çš„åˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ä¸Š git push origin ã€ç©ºæ ¼ã€‘ã€å†’å·ã€‘ã€éœ€è¦åˆ é™¤çš„åˆ†æ”¯åå­—ã€‘â€”é€šè¿‡ä»£ç åˆ é™¤è¿œç¨‹åˆ†æ”¯ æ’¤é”€æ“ä½œï¼šgit checkout [file] â€”- æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº git checkout . â€”- æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº git checkout [commit] [file] â€”- æ¢å¤æŸä¸ªcommitçš„æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒºå’Œå·¥ä½œåŒº git reset [file] â€”- é‡ç½®æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶ï¼Œä¸ä¸Šä¸€æ¬¡ commit ä¿æŒä¸€è‡´ï¼Œä½†å·¥ä½œåŒºä¸å˜ git reset â€“hard â€”- é‡ç½®æš‚å­˜åŒºä¸å·¥ä½œåŒºï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´ æ‹‰å–å’Œæ›´æ–°ï¼šgit pull â€”- æ‹‰å–è¿œç¨‹ä»£ç åˆ°å½“å‰åˆ†æ”¯ï¼Œå¹¶å’Œæœ¬åœ°åˆ†æ”¯åˆå¹¶ git pull [remote] [branch] â€”- å–å›è¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶ä¸æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆå¹¶ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬å¹³æ—¶åœ¨å®é™…å·¥ä½œä¸­ï¼Œæ˜¯ä¸å…è®¸å¯¹ä¸»åˆ†æ”¯çš„ä¸œè¥¿è¿›è¡Œæ“ä½œçš„ï¼Œä¹Ÿåƒä¸‡ä¸è¦å¯¹ä¸»åˆ†æ”¯è¿›è¡Œåˆå¹¶ã€æäº¤ã€æ›´æ–°ç­‰ã€‚æˆ‘ä»¬éœ€è¦åˆ›å»ºå¦å¤–ä¸€ä¸ªåˆ†æ”¯ï¼ˆæµ‹è¯•åˆ†æ”¯ï¼‰ï¼Œç„¶ååœ¨è¿™ä¸ªåˆ†æ”¯ä¸­å»åˆå¹¶å…¶ä»–ç»„å‘˜çš„åˆ†æ”¯ï¼Œæœ€ç»ˆå°†æµ‹è¯•åˆ†æ”¯ä¸­çš„ä»£ç æ”¾åˆ°æœåŠ¡å™¨ä¸Šå»æµ‹è¯•ã€è¿è¡Œ 4.4 ç¤ºä¾‹ï¼šä»“åº“åœ°å€ç¤ºä¾‹ï¼šgit@github.com:AIMIYue.git / https://gitee.com/ityuer/test.git ç»„é•¿å’Œç»„å‘˜éœ€è¦æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š 1.git clone git@github.com:AIMIYue.git â€”- å…‹éš†é¡¹ç›®ï¼ˆæ‹‰å–ä»£ç ï¼Œè™½ç„¶æ²¡ä»€ä¹ˆä»£ç ï¼‰ 2.git branch â€” æŸ¥çœ‹åˆ†æ”¯ 3.git branch zhangsan ã€git branch lisi ã€ git branch wangwu â€” åˆ›å»ºä»¥è‡ªå·±å§“åå‘½åçš„åˆ†æ”¯ï¼Œå¥½åŒºåˆ† 4.git branch â€” å†æ¬¡æŸ¥çœ‹åˆ†æ”¯ çœ‹æœ‰æ²¡æœ‰åˆ›å»ºæˆåŠŸã€‚ç»¿è‰²çš„æ˜¯å½“å‰çš„åˆ†æ”¯ï¼Œç™½è‰²çš„æ˜¯æœªè¢«é€‰ä¸­çš„å…¶ä»–åˆ†æ”¯ 5.git checkout zhangsan â€” åˆ‡æ¢åˆ°è‡ªå·±çš„åˆ†æ”¯ï¼Œè¿™é‡Œæ˜¯åˆ‡æ¢åˆ°äº†å¼ ä¸‰çš„åˆ†æ”¯ä¸Š 6.æµ‹è¯•ä¸‹çœ‹èƒ½ä¸èƒ½åœ¨è‡ªå·±çš„åˆ†æ”¯ä¸Šæäº¤ä»£ç ï¼Œåœ¨ä½ çš„æ–‡ä»¶å¤¹ä¸­æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶åæ‰§è¡Œç¬¬ä¸ƒæ­¥ 7.git add . â€” å°†è‡ªå·±åˆ›å»ºã€ä¿®æ”¹ã€åˆ é™¤çš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº 8.git commit -m â€˜first comitâ€™ â€”- è¿›è¡Œæäº¤ï¼ˆæäº¤åˆ°æœ¬åœ°ä»“åº“ï¼‰ï¼Œå¹¶å†™ä¸Šæäº¤ä¿¡æ¯ 9.git push git@github.com:AIMIYue.git â€” ä¸Šä¼ ä»£ç ï¼Œä¸Šä¼ å®Œæˆåå»githubä¸Šåˆ·æ–°æŸ¥çœ‹æœ‰æ²¡æœ‰è‡ªå·±çš„åˆ†æ”¯åŠè‡ªå·±çš„ä»£ç  10.å¦‚æœæˆåŠŸçš„è¯ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±å¯ä»¥è¿›è¡Œä»£ç å¼€å‘äº†ï¼Œè‡ªå·±ä¸æ–­çš„å†™ä»£ç ï¼Œå†™å®Œäº†ä¹‹åæ‰§è¡Œä¸Šè¿°æ­¥éª¤ï¼ˆä»ç¬¬äº”æ­¥å¼€å§‹ï¼‰ 11.é¡¹ç›®å¼€å‘å®Œæˆåï¼Œç»„é•¿éœ€è¦æ–°å»ºåˆ†æ”¯ï¼Œç„¶ååˆå¹¶è‡ªå·±å’Œå…¶ä»–ç»„å‘˜çš„åˆ†æ”¯ï¼Œå‘½ä»¤è§ä¸‹ä¸€æ­¥ git branch dev â€”- åˆ›å»ºæµ‹è¯•åˆ†æ”¯ï¼Œç”¨æ¥åˆå¹¶ä»£ç  git checkout dev â€” åˆ‡æ¢åˆ°devåˆ†æ”¯ä¸Š git merge origin/zhangsan ã€ git merge origin/lisi ã€ git merge origin/wangwu â€” åˆå¹¶è¿œç¨‹åˆ†æ”¯ git add. â€” æ·»åŠ åˆ°æš‚å­˜åŒº git commit -m â€˜æµ‹è¯•åˆ†æ”¯æäº¤â€™ â€” æäº¤æµ‹è¯•åˆ†æ”¯ git push git@github.com:AIMIYue.git â€” å°†æµ‹è¯•åˆ†æ”¯ä¸Šä¼ åˆ°ä»“åº“ä¸­ æ­¤æ—¶ï¼Œé¡¹ç›®å·²ç»å®Œæˆï¼Œå„ç»„å‘˜å¯ä»¥å„è‡ªä»devåˆ†æ”¯ä¸Šæ‹‰å–ä»£ç ï¼Œç„¶åè¿è¡Œå°±å¯ä»¥äº† 4.5 æ³¨æ„äº‹é¡¹ï¼š1.å½“åˆ›å»ºå®Œåˆ†æ”¯åï¼Œè¿œç¨‹ä»“åº“ä¸ä¼šæœ‰åˆ†æ”¯ï¼ˆå› ä¸ºæ­¤æ—¶åˆ›å»ºçš„æ˜¯æœ¬åœ°åˆ†æ”¯ï¼‰ï¼Œéœ€è¦åˆ‡æ¢åˆ°æ–°åˆ›å»ºçš„åˆ†æ”¯ï¼Œç„¶åè¿›è¡Œä¸€æ¬¡ä»£ç æäº¤ï¼Œè¿œç¨‹ä»“åº“æ‰ä¼šæœ‰ä½ æ–°åˆ›å»ºçš„åˆ†æ”¯ 2.è¿›è¡Œä»£ç æäº¤ï¼Œå¿…é¡»æŒ‰ç…§ä¸¥æ ¼çš„é¡ºåºæ‰§è¡Œå‘½ä»¤ï¼Œä¸å…è®¸é¢ å€’(addâ€“&gt;commitâ€“&gt;push) 3.æ¯æ¬¡addä¹‹å‰ï¼Œè¦å…ˆçœ‹ä¸€ä¸‹ä½ ç›®å‰å¤„äºå“ªä¸ªåˆ†æ”¯ï¼Œå¯ä½¿ç”¨git branchæŸ¥çœ‹ï¼Œåœ¨å‘½ä»¤è¡Œä¸­çš„æ¯å¥è¯æœ«å°¾ä¹Ÿéƒ½ä¼šæœ‰åˆ†æ”¯æ ‡è¯† 4.å¦‚æœä¸å°å¿ƒaddäº†ï¼Œå‘ç°åˆ†æ”¯é”™äº†ï¼Œæˆ–è€…ä¸å°æ‰§è¡Œäº†addå‘½ä»¤ï¼Œéœ€è¦ä½¿ç”¨ git rm â€“cached æ–‡ä»¶å å‘½ä»¤å°†addçš„æ–‡ä»¶ä»ç¼“å­˜åŒºä¸­åˆ é™¤ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ git rm -r â€“cached æ–‡ä»¶å å‘½ä»¤åˆ é™¤æŸä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ 5.åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯å¯ä»¥åˆå¹¶ä¸ºä¸€ä¸ªå‘½ä»¤ï¼Œä¾‹å¦‚ï¼šgit checkout - b zhangsan 6.å¯ä»¥ä½¿ç”¨git status æ¥æŸ¥çœ‹å‘ç”Ÿå˜åŠ¨çš„æ–‡ä»¶ 7.å°ç»„é¡¹ç›®çš„åˆ†æ”¯åˆ›å»ºï¼Œä¸€å®šè¦åœ¨masteråˆ†æ”¯ä¸Šå»åˆ›å»ºå…¶ä»–çš„åˆ†æ”¯ï¼ å…³äºæ›´ä¸ºè¯¦ç»†çš„gitçš„å…¶ä»–å‘½ä»¤ï¼Œå¯ç‚¹å‡»ä¸‹æ–¹é“¾æ¥ï¼š é“¾æ¥ï¼šhttp://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html https://www.liaoxuefeng.com/wiki/896043488029600 layuiï¼šhttps://www.layui.com/ layerï¼šhttp://layer.layui.com/ JQUIï¼šhttps://www.jqueryui.org.cn/tutorial/27.html","path":"2016/10/28/gitåŸºç¡€/","date":"10-28","excerpt":"","tags":[{"name":"git","slug":"git","permalink":"http://diamond-sjh.github.io/tags/git/"}]}]}